<!DOCTYPE html>
<html lang="fr" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <title>Consommation Fonciere</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <meta property="og:title" content="VigiFoncier.fr">
    <meta property="og:description"
          content="Statistiques et Projections de Consommation Fonciere pour PLUs et SCoTs dans toute la France.">
    <meta property="og:image" content="https://vigibati.fr/static/img/social-preview.jpg">
    <link rel="shortcut icon" type="image/png" href="https://vigibati.fr/static/img/favicon.png">
    <!-- Vue & jQuery Charts -->
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.0/css/bulma.css'>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-purple.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-2021.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-flat.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    .btn {
      background-color: Teal;
      border: none;
      color: white;
      padding: 10px 30px;
      cursor: pointer;
      font-size: 18px;
    }
    .center {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 50%;
    }
    /* Darker background on mouse-over */
    .btn:hover {
      background-color: Emerald;
      color: white;
    }
    </style>
    <style>
    .slidecontainer {
      width: 100%;
    }

    .slider {
      -webkit-appearance: none;
      width: 100%;
      height: 15px;
      border-radius: 5px;
      background: #d3d3d3;
      outline: none;
      opacity: 0.7;
      -webkit-transition: .2s;
      transition: opacity .2s;
    }

    .slider:hover {
      opacity: 1;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #04AA6D;
      cursor: pointer;
    }

    .slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #04AA6D;
      cursor: pointer;
    }
    </style>
    <!-- Utilities -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/danfojs@0.3.3/lib/bundle.min.js"></script>
    <!-- Chartjs Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <script src="https://unpkg.com/vue-chartjs/dist/vue-chartjs.min.js"></script>
    <!-- Plotly Charts -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- Global Analytics - site tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F6W0QF8E5V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-F6W0QF8E5V');
    </script>

</head>

<body onload="onPageLoaded()">

<div id="app">

<!-- Header -->
<header class="w3-container w3-theme w3-padding" id="myHeader">
    <i onclick="w3_open()" class="fa fa-bars w3-xlarge w3-button w3-theme"></i>
    <div class="w3-center"><h4>Vigi Foncier</h4>
        <h1 class="w3-xxxlarge w3-animate-bottom">Consommation Fonciere par France Nature Environnement</h1>
    Consultez les données de votre territoire et planifiez votre urbanisation
    en accord avec l'objectif Zéro Artificialisation Nette de la loi Climat et Résilience.
          <div class="columns">
             <div class="column"></div>
             <div class="column">
                <div class="w3-padding-32">
                    <button class="w3-btn w3-xlarge w3-theme-dark w3-hover-light-green w3-mobile"
                            onclick="document.getElementById('id01').style.display='block'"
                            style="font-weight: 900;">A Propos de Vigi Foncier
                    </button>
                </div>
             </div>
             <div class="column">
                <div class="w3-padding-32">
                    <button class="w3-btn w3-xlarge w3-theme-dark w3-hover-light-green w3-mobile"
                            onclick="document.getElementById('id02').style.display='block'"
                            style="font-weight: 900;">Comment ca marche ?
                    </button>
                </div>
             </div>
             <div class="column"></div>
          </div>
    </div>
</header>

<!-- Modal Pop Up -->
<div id="id01" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-dark w3-mobile">
        <span onclick="document.getElementById('id01').style.display='none'"
        class="w3-button w3-display-topright">×</span>
        <h4>A propos de Vigi Foncier</h4>
      </header>
      <div class="w3-center">
        <p></p>
        <p>Objectif Zéro Artificialisation Nette !</p>
        <a href="https://fne.asso.fr/" target="_blank" ><img src="https://www.mightyearth.org/wp-content/uploads/image003.png" alt="France Nature Environement" width="456" height="128"> </a>
        <p><a class="w3-btn" href="mailto:gadceca06@gmail.com?subject=A%20propose%20de%20Consommation%20Fonciere"> Information – Contactez nous pour en savoir plus </a></p>
        <p>Un site developé en collaboration avec le Gadseca et mySophiaAntipolis ! </p>
      </div>
      <footer class="w3-container w3-theme-dark">
        <h4>France Nature Environnement</h4>
      </footer>
    </div>
</div>

<!-- Modal Pop Up -->
<div id="id02" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-dark w3-mobile">
        <span onclick="document.getElementById('id02').style.display='none'"
        class="w3-button w3-display-topright">×</span>
        <h4>Citoyens pour le Climat er la Nature.</h4>
      </header>
      <div class="w3-container">
        <p></p>
        <h3>Objectif Zéro Artificialisation Nette !</h3>
        <p>A l'horizon 2030, diviser au moins par deux le rythme d'artificialisation des espaces naturels, agricoles et forestiers,
            par rapport à la consommation d'espaces observée depuis 2010.</p>
        <h3>La Loi Climat et Résilience</h3>
        <p>L'objectif ZAN en 2050 fixé dans le cadre du "plan biodiversité" de 2018 a été confirmé par le vote
            de la loi Climat et Résilience à l'Assemblée Nationale le 22 août 2021. Afin d’y parvenir, la loi fixe
            un objectif  de réduction du rythme de l'artificialisation par tranches de 10 années. Pour la première
            tranche, 2021-2031, la consommation des espaces naturels, agricoles ou forestiers (ENAF) devra être
            réduite de moitié par rapport à la consommation réelle de ces espaces observée sur les dix années
            précédentes. Ce simulateur vous permet de vérifier si, en envisageant un développement raisonnable
            de votre territoire et en optimisant la densification du tissu urbain existant, une division par deux
            des ouvertures à l’urbanisation permettra de répondre aux besoins en logements futurs.</p>
        <h3>Consulter les données de votre territoire</h3>
        <p>Ce site vous permet de consulter les données historiques d'évolution de la population, des constructions
            de logement, de l'artificialisation, des besoins en logements sociaux, consolidées sur votre territoire,
            ainsi que les dernières projections de l'INSEE.</p>
        <p>Il ne porte que sur le logement et ne traite pas du foncier destiné à des équipements ou à l'économie.</p>
        <h3>Mettez votre territoire en accord avec l'objectif ZAN </h3>
        <p>Un outil de test vous permet de tester différents scenario d'urbanisation pour atteindre votre objectif ZAN.</p>
        <img src="input/CommentCaMarche.png" alt="Comment Ca Marche ?" width="956" height="128">
        <p></p>
      </div>
      <footer class="w3-container w3-theme-dark">
        <h4>Citoyens pour le Climat.</h4>
      </footer>
    </div>
</div>

<!-- Departements (Paca Seulement) ... -->
<div>
    <h2 class="w3-center">Region PACA</h2>
    <!-- src="https://www.acted.org/wp-content/uploads/2018/09/region-paca.jpg" -->
    <img class="w3-center w3-image"
          src="input/CartoPaca3-Green.png"
          alt="Region Paca Logo"
          style="display: block; margin-left: auto; margin-right: auto; width: 600px; height: auto;">
</div>

<!-- Selection -->
<div>
    <div v-if="this.data_s == null">
        <h2 class="w3-center">{{ message }} </h2>
    </div>
    <div v-else>
        <h2 class="w3-center">{{ message }} </h2>
    </div>
    <div class="w3-cell-row w3-teal w3-mobile">
            <div class="w3-container w3-teal w3-cell w3-mobile w3-cell-middle w3-quarter w3-padding-16">
                <p class="w3-padding-8 w3-right-align"> Departement : </p>
                <p class="w3-padding-8 w3-right-align"> EPCI : </p>
                <p class="w3-padding-8 w3-right-align"> Commune : </p>
            </div>
            <div class="w3-container w3-teal w3-cell w3-mobile w3-cell-middle w3-threequarter w3-padding-16">
            <select class="w3-theme-dark w3-select w3-hover-green" searchable="w3-select Rechercher ici ..." v-model="selectedDepartement" @change="selectDeptEvent($event);"  autofocus>
                <option disabled="" value="" disabled selected> Sélectionner un Departement</option>
                <div v-if="this.data_s !== null" >
                    <option v-for='item in this.selectDepts' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            <select class="w3-theme w3-select w3-hover-green" searchable="w3-select Rechercher ici ..." v-model="selectedEPCI"   @change="selectEpciEvent($event)">
                <option disabled="" value="" disabled selected> Sélectionner un EPCI</option>
                <div v-if="this.data_s !== null">
                    <option v-for='item in this.selectEpcis' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            <select class="w3-theme w3-select w3-hover-green" searchable="w3-select Rechercher ici ..."v-model="selectedCommune" @change="selectCommuneEvent($event)">
                <option disabled="" value=""  disabled selected> Sélectionner une Commune</option>
                <div v-if="this.data_s !== null">
                    <option v-for='item in this.selectCommunes' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            </div>
        </div>
    <hr>
</div>

<!-- Rapport -->
<div>
    <div v-if="this.data_s == null">
         <h2 class="w3-center">Rapport : {{ message }}</h2>
         <h3 class="w3-container w3-padding-32 w3-theme"> {{ select_message }}</h3>
    </div>
    <div v-else>
         <h2 class="w3-center">Rapport : {{nom}} </h2>
            <div v-if="territoire == 'Commune'">
                 <h3 class="w3-container w3-padding-32 w3-theme">{{territoire}} {{code}} : {{nom}} - {{ds.CODE_POSTAL}} - {{ ds.P18_POP }} habitants</h3>
            </div>
            <div v-else>
                 <h3 class="w3-container w3-padding-32 w3-theme">{{territoire}} {{code}} : {{nom}} - {{ ds.P18_POP }} habitants</h3>
            </div>

        <div class="w3-container">
            <div v-if="ds.LIBEPCI != 'DEPT'">
                <p> EPCI : {{ ds.LIBEPCI}} - {{ ds.EPCI}}  </p>
            </div>
            <p> Departement : {{ ds.DEP_NOM}} - {{ ds.DEP}} </p>
            <p> Region :      {{ ds.REG_NOM}} - {{ ds.REG }}  </p>
        </div>
        <p class="w3-container w3-theme">Pour imprimer ou obtenir un fichier PDF: CTRL-P, Imprimer ou Sauver comme PDF - ne garder que les cinq premieres pages.</p>
    </div>
</div>

<!-- Tabs -->
<div>
<script>
// Tabs
function openTab(evt, cityName) {
  console.log("openTab : "+cityName)
  var i;
  var x = document.getElementsByClassName("city");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  var activebtn = document.getElementsByClassName("databtn");
  for (i = 0; i < x.length; i++) {
    activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}
// Tabs
function openTabOzan(evt, tabName) {
  console.log("openTabOzan : "+tabName)
  var i;
  var x = document.getElementsByClassName("ozan");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  var ozanbtn = document.getElementsByClassName("ozanbtn");
  for (i = 0; i < x.length; i++) {
    ozanbtn[i].className = ozanbtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}
</script>
<div class="w3-border">
<div class="w3-bar w3-theme">
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Population')">        Population </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Logements')">         Logements </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Artificialisation')"> Artificialisation </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Projections')">       Projections </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'LoiSRU')">            Loi SRU  </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Cartes')">            Cartes </button>
<!-- Tabs
</div>
<div class="w3-bar w3-theme">
-->
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'BigTable')">       Table de Calcul </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'ObjectifZan')">    Objectif Zan </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'MichelZan')">      Michel Zan </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-grey"          onclick="openTab(event,'Calculettes')">    Calculettes </button>
<!--
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-pink"          onclick="openTab(event,'Diagnostics')">    Diagnostics </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'Sources')">        Sources </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-grey"          onclick="openTab(event,'DonneesBrutes')">  Donnees Brutes </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-grey"          onclick="openTab(event,'Debug')">          Debug </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Graphiques')">     Graphiques </button>
-->
<div class="w3-dropdown-hover w3-mobile">
    <button class="w3-button w3-padding-16 ">Données <i class="fa fa-caret-down"></i></button>
    <div class="w3-dropdown-content w3-bar-block w3-teal">
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Graphiques')">    Graphiques</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Diagnostics')">   Diagnostics</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Sources')">       Sources</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'DonneesBrutes')"> Données Brutes</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Debug')">         Debug</a>
    </div>
  </div>
</div>
</div>

<div id="Diagnostics"       class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Diagnostics</h2>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="ALL"></diagnostics>
     </div>
</div>
<div id="Graphiques"        class="w3-container city w3-animate-opacity">

        <h2>Graphiques</h2>

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Production et Besoins de Logements</h2></div>
            <div id="logementsPlotlyChartContainer" class="center" style="width:100%;max-width:700px; max-height:700px;"></div>

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Evolution de la Répartition des types de Logements entre 2008 et 2018</h2></div>
            <div id="typeLogPlotlyChartContainer" class="center" style="width:100%;max-width:700px; max-height:700px;"></div>

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Repartition des Logements en 2018</h2></div>
            <div id="typeLogGoogleChartContainer" class="center" style="width:100%; max-width:600px; max-height:500px;"></div>

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Constructions de Logements 2010-2019</h2></div>
            <div id="constLogChartContainer"      class="center"  style="width:100%; max-width:600px; max-height:500px;"><canvas id="constLogChart"></canvas></div>

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Population</h2></div>
            <div id="populationChartContainer"    class="center"  style="width:100%; max-width:600px; max-height:500px;">
                <canvas id="populationChart"></canvas></div>

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Taille des Menages</h2></div>
            <div id="tailleMenagesChartContainer" class="center"  style="width:100%; max-width:600px; max-height:500px;">
                <canvas id="tailleMenagesChart"></canvas></div>

<!-- Picture Based Graphics

    <div v-if="this.data_s != null">

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Logements</h2></div>
            <img :src="ds.GRAPHIQUE_LOGEMENTS"          alt="Logements" class="center" >
            <img src="input/Legend_Logements.png"       alt="Legende Logements" class="center">

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Repartition des Logements</h2></div>
            <img :src="ds.GRAPHIQUE_REPARTITION_DES_LOGEMENTS"          alt="Repartition" class="center">

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Population</h2></div>
            <img :src="ds.GRAPHIQUE_POPULATION"          alt="Population" class="center">

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Taille des Menages</h2></div>
            <img :src="ds.GRAPHIQUE_TAILLE_DES_MENAGES"  alt="Taille des Menages" class="center">

        <div class="w3-container w3-section w3-teal">
            <h2 class="w3-teal w3-padding-16">Constructions de Logements 2010-2019</h2></div>
            <img :src="ds.GRAPHIQUE_CONSTRUCTIONS_DES_LOGEMENTS"       alt="Constructions" class="center">

    </div>
-->

</div>
<div id="Logements"         class="w3-container city w3-animate-opacity">

    <h2>Logements</h2>

    <div v-if="this.data_s != null">
         <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th>Données INSEE</th>
                        <th class="w3-right-align">2013 - 2021</th>
                    </tr>
                    <tr>
                        <td>Taux de Residences Secondaires en 2018</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.TX_RES_SEC_18 * 10000).toFixed(4)) ) / 100  }}%</td>
                    </tr>
                    <tr>
                        <td>Taux de Residences Vacantes en 2018</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.TX_RES_VAC_18 * 10000).toFixed(4)) ) / 100  }}%</td>
                    </tr>
                    <tr>
                        <td>Periode 2013 - 2020 : Exces en Logements</td>
                        <td class="w3-right-align">{{ds.EXCES_BESOINS_1320}}</td>
                    </tr>
                    <tr>
                        <td> - Besoins en logements :</td>
                        <td class="w3-right-align">{{ds.BESOINS_1320}}</td>
                    </tr>
                    <tr>
                        <td> - Logements Construits :</td>
                        <td class="w3-right-align">{{ds.NB_LGT_TOT_COMMENCES_1321}}</td>
                    </tr>
                    <tr>
                        <td> - Exces de Logements Construits par rapport aux besoins :</td>
                        <td class="w3-right-align">{{ds.EXCES_BESOINS_1320}}</td>
                    </tr>
                    <tr>
                        <td> -&gt; Nouvelles Residences Secondaires :</td>
                        <td class="w3-right-align">{{ds.NOUV_RESSEC_1318}}</td>
                    </tr>
                    <tr>
                        <td> -&gt; Nouvelles Residences Vacantes :</td>
                        <td class="w3-right-align">{{ds.NOUV_LOGVAC_1318}}</td>
                    </tr>
                    <tr>
                        <td> -&gt; Indetermines / Non-Vendus :</td>
                        <td class="w3-right-align">{{ds.LOG_NON_VENDUS_1320}}</td>
                    </tr>
                    <tr>
                        <td> Periode 2013 - 2021 : Logements Sociaux</td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> - Logements Construits :</td>
                        <td class="w3-right-align">{{ds.NB_LGT_TOT_COMMENCES_1321}}</td>
                    </tr>
                    <tr>
                        <td> - Logements Sociaux :</td>
                        <td class="w3-right-align">{{ds.NB_LGT_PRET_LOC_SOCIAL_1321}}</td>
                    </tr>
                    <tr>
                        <td> - Taux de Logements Sociaux Construits :</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.TX_LGT_PRET_LOC_SOCIAL_1321 * 10000).toFixed(4)) ) / 100  }}%</td>
                    </tr>
                    </tbody>
                </table>
         <br>
    </div>

    <div class="w3-container w3-section w3-teal">
        <h2 class="w3-teal w3-padding-16">Production et Besoins de Logements</h2></div>
        <div id="logementsPlotlyChartContainer2" class="center" style="width:100%;max-width:700px; max-height:700px;"></div>

    <div class="w3-container w3-section w3-teal">
        <h2 class="w3-teal w3-padding-16">Repartition des Logements en 2018</h2></div>
        <div id="typeLogGoogleChartContainer2" class="center" style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal">
        <h2 class="w3-teal w3-padding-16">Evolution de la Répartition des types de Logements entre 2008 et 2018</h2></div>
        <div id="typeLogPlotlyChartContainer2" class="center" style="width:100%;max-width:700px; max-height:700px;"></div>

    <h2>Diagnostics</h2>
    <div v-if="this.data_s != null">
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="LOG"></diagnostics>
        <br>
    </div>
</div>
<div id="LoiSRU"            class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Loi SRU</h2>
        <p>Logements Sociaux : <a target="_blank" :href="ds.URL_SOURCE_SRU"> Dossier Dreal </a></p>
        <table class="w3-table-all w3-hoverable w3-card-4">
                    <tr class="w3-teal">
                        <th>Données SRU</th>
                        <th class="w3-right-align">2017</th>
                        <th class="w3-right-align">2020</th>
                        <th class="w3-right-align">Evolution</th>
                    </tr>
                    <tr>
                        <td>Residences Principales</td>
                        <td class="w3-right-align">{{ds.SRU_RP_2017}}</td>
                        <td class="w3-right-align">{{ds.SRU_RP_2020}}</td>
                        <td class="w3-right-align">{{ds.SRU_RP_2020 - ds.SRU_RP_2017}}</td>
                    </tr>
                    <tr>
                        <td>Logements Sociaux :</td>
                        <td class="w3-right-align">{{ds.SRU_LLS_2017}}</td>
                        <td class="w3-right-align">{{ds.SRU_LLS_2020}}</td>
                        <td class="w3-right-align">{{ds.SRU_LLS_2020 - ds.SRU_LLS_2017}}</td>
                    </tr>
                    <tr>
                        <td>Taux Logements Sociaux :</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.SRU_TX_LLS_2017 * 10000).toFixed(4)) ) / 100  }}%</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.SRU_TX_LLS_2020                       * 10000).toFixed(4)) ) / 100  }}%</td>
                        <td class="w3-right-align">{{ Math.round( (((ds.SRU_TX_LLS_2020 - ds.SRU_TX_LLS_2017)* 10000).toFixed(4)) ) / 100  }}%</td>
                    </tr>
                    <tr>
                        <td>Carence :</td>
                        <td class="w3-right-align">{{ds.SRU_CARENCE_2017}}</td>
                        <td class="w3-right-align">{{ds.SRU_CARENCE_2020}}</td>
                        <td class="w3-right-align">{{ds.SRU_CARENCE_2020 - ds.SRU_CARENCE_2017}}</td>
                    </tr>
                    <tr>
                        <td>Objectifs Trienaux :</td>
                        <td class="w3-right-align">{{ds.SRU_OBJ_2017_2019}}</td>
                        <td class="w3-right-align">{{ds.SRU_OBJ_2020_2022}}</td>
                        <td class="w3-right-align">{{ds.SRU_OBJ_2020_2022 - ds.SRU_OBJ_2017_2019}}</td>
                    </tr>
                    <tr>
                        <td>Logements 35% / 65% Trienaux :</td>
                        <td class="w3-right-align">{{ds.SRU_MOD3565_2017}}</td>
                        <td class="w3-right-align">{{ds.SRU_MOD3565_2020}}</td>
                    </tr>
                </table>
        <br>
        <div> <h2>Logements Sociaux : </h2>
              <p>Evolution 2017-2020 des Residences Principales : {{ds.SRU_EVOLUTION_EN_RP}}</p>
              <p>Evolution 2017-2020 Carence : {{ds.SRU_EVOLUTION_CARENCE}}</p>
              <p>Logements Sociaux Realises en 2017-2020 (SRU) : {{ds.SRU_LOGEMENTS_SRU_CONSTRUITS}}</p>
              <p>Logements Sociaux Realises en 2017-2021 (Sitadel): {{ds.NB_LGT_PRET_LOC_SOCIAL_1721}}</p>
              <p>Logements Sociaux Realises en 2013-2016 (Sitadel): {{ds.NB_LGT_PRET_LOC_SOCIAL_1316}}</p>
              <p>Logements Sociaux Realises en 2013-2021 (Sitadel): {{ds.NB_LGT_PRET_LOC_SOCIAL_1321}}</p>
              <p>Total de logements a construire en 35% / 65% : {{ds.SRU_MOD3565_CARENCE}}</p>
        </div>
        <br>
        <div><h2>Carte Geoportail Logement Social</h2>
             <p>Sur <a target="_blank" :href="ds.URL_CARTE_LOGEMENT_SOCIAL"> Geoportail Logement Social </a></p>
             <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_LOGEMENT_SOCIAL"></iframe>-->
        </div>
        <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="SRU"></diagnostics>
    </div>
</div>
<div id="Artificialisation" class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Artificialisation sur bases fiscales en 10 ans (2009-2020)</h2>
         <p>Artificialisation : <a target="_blank" :href="ds.URL_SOURCE_ARTIFICIALISATION"> Dossier Cerema </a></p>
         <p> Parmi les sources disponibles, les données issues des fichiers fiscaux traitées par le CEREMA offrent
             l'avantage d'être annuelles et disponibles pour tout le territoire de manière comparable même si elles ne
             sont pas très précises. Elles comptabilisent en effet des parcelles cadastrales nouvellement
             artificialisées en distinguant notamment celles destinées à l'habitat ou aux activités économiques, et non
             pas des surfaces précisément artificialisées comme pourra le faire la future base de données
             cartographiques Occupation du sol à grande échelle (OCS GE) actuellement en chantier.</p>
         <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th>Données Cerema</th>
                        <th class="w3-right-align">2009-2020</th>
                    </tr>
                    <tr>
                        <td>Surface du Territoire</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.SURFACE_COMMUNE / 100 ).toFixed(2)) ) / 100  }} ha</td>
                    </tr>
                    <tr>
                        <td>Artificialisation en 10 ans</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.ART_TOTAL / 100).toFixed(2)) ) / 100  }} ha</td>
                    </tr>
                    <tr>
                        <td>Supplement en 10 ans</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.ART_POURCENT * 100).toFixed(2)) ) / 100  }}%</td>
                    </tr>
                    </tbody>
                </table>
         <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="ART"></diagnostics>
        <h2>Artificialisation sur base des Permis de Construire (2013-2021)</h2>
         <p>Artificialisation : <a target="_blank" :href="ds.URL_SOURCE_SITADEL"> Dossier Sitadel </a></p>
         <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th>Données Sitadel</th>
                        <th class="w3-right-align">2013-2021</th>
                    </tr>
                    <tr>
                        <td>Surface du Territoire</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.SURFACE_COMMUNE / 100 ).toFixed(2)) ) / 100  }} ha</td>
                    </tr>
                    <tr>
                        <td>Nombre de logements nouveaux</td>
                        <td class="w3-right-align">{{ ds.NB_LGT_NOUVEAU  }} </td>
                    </tr>
                    <tr>
                        <td>Nombre de logements en renouvellement</td>
                        <td class="w3-right-align">{{ ds.NB_LGT_RENOUVELLEMENT  }} </td>
                    </tr>
                    <tr>
                        <td>Superficie des terrains dédiés aux logements.</td>
                        <td class="w3-right-align">{{ f_round(ds.SITADEL_LOGEMENTS_SUPERFICIE_TERRAIN / 10000,2)  }} ha</td>
                    </tr>
                    <tr>
                        <td>Logements par hectares : </td>
                        <td class="w3-right-align">{{ f_round(ds.NB_LGT_NOUVEAU / (ds.SITADEL_LOGEMENTS_SUPERFICIE_TERRAIN / 10000),1)  }} log / ha</td>
                    </tr>
                    <tr>
                        <td>Superficie des terrains dédiés aux activités.</td>
                        <td class="w3-right-align">{{ Math.round( ((ds.SITADEL_LOCAUX_SUPERFICIE_TERRAIN / 100 ).toFixed(2)) ) / 100  }} ha</td>
                    </tr>
                    </tbody>
                </table>
    </div>
</div>
<div id="Population"        class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Population</h2>
        <p><a target="_blank" :href="ds.DOSSIER_INSEE">Dossier Insee Complet {{ nom }}</a></p>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th>Données INSEE</th>
                <th class="w3-right-align">2008</th>
                <th class="w3-right-align">2013</th>
                <th class="w3-right-align">2018</th>
            </tr>
            <tr>
                <td>Population</td>
                <td class="w3-right-align">{{ds.P08_POP}}</td>
                <td class="w3-right-align">{{ds.P13_POP}}</td>
                <td class="w3-right-align">{{ds.P18_POP}}</td>
            </tr>
            <tr>
                <td>- Evolution #</td>
                <td class="w3-right-align">-</td>
                <td class="w3-right-align">{{ds.POP_EVOL_0813}}</td>
                <td class="w3-right-align">{{ds.POP_EVOL_1318}}</td>
            </tr>
            <tr>
                <td>- Evolution % / an</td>
                <td class="w3-right-align">-</td>
                <td class="w3-right-align">{{ Math.round( ((ds.TXPOP_0813 * 100).toFixed(2)) ) / 100  }}%</td>
                <td class="w3-right-align">{{ Math.round( ((ds.TXPOP_1318 * 100).toFixed(2)) ) / 100  }}%</td>
            </tr>
            <tr>
                <td>Population des Menages</td>
                <td class="w3-right-align">{{ds.C08_PMEN}}</td>
                <td class="w3-right-align">{{ds.C13_PMEN}}</td>
                <td class="w3-right-align">{{ds.C18_PMEN}}</td>
            </tr>
            <tr>
                <td>Population Hors Menage</td>
                <td class="w3-right-align">{{ds.C08_HORS_MEN}}</td>
                <td class="w3-right-align">{{ds.C13_HORS_MEN}}</td>
                <td class="w3-right-align">{{ds.C18_HORS_MEN}}</td>
            </tr>
            <tr>
                <td>Menages</td>
                <td class="w3-right-align">{{ds.C08_MEN}}</td>
                <td class="w3-right-align">{{ds.C13_MEN}}</td>
                <td class="w3-right-align">{{ds.C18_MEN}}</td>
            </tr>
            <tr>
                <td>Taille des Menages</td>
                <td class="w3-right-align">{{ds.TM_2008}}</td>
                <td class="w3-right-align">{{ds.TM_2013}}</td>
                <td class="w3-right-align">{{ds.TM_2018}}</td>
            </tr>
            <tr>
                <td>- Evolution taille des Menages % / an</td>
                <td class="w3-right-align">-</td>
                <td class="w3-right-align">{{ Math.round( ((ds.TXTM_0813 * 100).toFixed(2)) ) / 100  }}%</td>
                <td class="w3-right-align">{{ Math.round( ((ds.TXTM_1318 * 100).toFixed(2)) ) / 100  }}%</td>
            </tr>
            <tr>
                <td>Logements</td>
                <td class="w3-right-align">{{ds.P08_LOG}}</td>
                <td class="w3-right-align">{{ds.P13_LOG}}</td>
                <td class="w3-right-align">{{ds.P18_LOG}}</td>
            </tr>
            <tr>
                <td>- Residences Principales</td>
                <td class="w3-right-align">{{ds.P08_RP}}</td>
                <td class="w3-right-align">{{ds.P13_RP}}</td>
                <td class="w3-right-align">{{ds.P18_RP}}</td>
            </tr>
            <tr>
                <td>- Residences Secondaires</td>
                <td class="w3-right-align">{{ds.P08_RSECOCC}}</td>
                <td class="w3-right-align">{{ds.P13_RSECOCC}}</td>
                <td class="w3-right-align">{{ds.P18_RSECOCC}}</td>
            </tr>
            <tr>
                <td>- Logements Vacants</td>
                <td class="w3-right-align">{{ds.P08_LOGVAC}}</td>
                <td class="w3-right-align">{{ds.P13_LOGVAC}}</td>
                <td class="w3-right-align">{{ds.P18_LOGVAC}}</td>
            </tr>
            <tr>
                <td>- Maisons</td>
                <td class="w3-right-align">{{ds.P08_MAISON}}</td>
                <td class="w3-right-align">{{ds.P13_MAISON}}</td>
                <td class="w3-right-align">{{ds.P18_MAISON}}</td>
            </tr>
            <tr>
                <td>- Appartements</td>
                <td class="w3-right-align">{{ds.P08_APPART}}</td>
                <td class="w3-right-align">{{ds.P13_APPART}}</td>
                <td class="w3-right-align">{{ds.P18_APPART}}</td>
            </tr>
            <tr>
                <td>Proprietaires en Residence Principale</td>
                <td class="w3-right-align">{{ds.P08_RP_PROP}}</td>
                <td class="w3-right-align">{{ds.P13_RP_PROP}}</td>
                <td class="w3-right-align">{{ds.P18_RP_PROP}}</td>
            </tr>
            <tr>
                <td>Locataires en Residence Principale</td>
                <td class="w3-right-align">{{ds.P08_RP_LOC}}</td>
                <td class="w3-right-align">{{ds.P13_RP_LOC}}</td>
                <td class="w3-right-align">{{ds.P18_RP_LOC}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <h2>Flux annuel de population</h2>
        <p><a target="_blank" :href="ds.DOSSIER_INSEE">Dossier Insee Complet {{ nom }}</a></p>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th>Données INSEE 2018</th>
                <th class="w3-right-align">Total : </th>
                <th class="w3-right-align">de / vers le Departement :</th>
                <th class="w3-right-align">- dont de / vers l'EPCI :</th>
                <th class="w3-right-align">En dehors du Departement :</th>
            </tr>
            <tr>
                <td>Population Entrante</td>
                <td class="w3-right-align">{{ds.FLUX_2018_ENTRANT}}</td>
                <td class="w3-right-align">{{ds.FLUX_2018_ENTRANT_DPT}}</td>
                <td class="w3-right-align">{{ds.FLUX_2018_ENTRANT_EPCI}}</td>
                <td class="w3-right-align">{{ds.FLUX_2018_ENTRANT_FRANCE + ds.FLUX_2018_ENTRANT_INTERNATIONAL}}</td>
            </tr>
            <tr>
                <td>Population Sortante</td>
                <td class="w3-right-align">{{ds.FLUX_2018_SORTANT}}</td>
                <td class="w3-right-align">{{ds.FLUX_2018_SORTANT_DPT}}</td>
                <td class="w3-right-align">{{ds.FLUX_2018_SORTANT_EPCI}}</td>
                <td class="w3-right-align">{{ds.FLUX_2018_SORTANT_FRANCE}}</td>
            </tr>
            <tr>
                <td>Solde - entrées moins sorties</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT - ds.FLUX_2018_SORTANT)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT_DPT - ds.FLUX_2018_SORTANT_DPT)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT_EPCI - ds.FLUX_2018_SORTANT_EPCI)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT_FRANCE + ds.FLUX_2018_ENTRANT_INTERNATIONAL - ds.FLUX_2018_SORTANT_FRANCE)}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="HIST"></diagnostics>
        <br>
    </div>
</div>
<div id="Projections"       class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
         <h2>Projections</h2>
         <p>Projections 2050 : <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS"> Dossier Insee </a></p>
         <p>Projections Paca : <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS_PACA"> Dossier Omphale </a></p>
         <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th>Données INSEE</th>
                <th class="w3-right-align">2020</th>
                <th class="w3-right-align">2030</th>
                <th class="w3-right-align">2040</th>
                <th class="w3-right-align">2050</th>
            </tr>
            <tr>
                <td>Population</td>
                <td class="w3-right-align">{{ds.POP_2020}}</td>
                <td class="w3-right-align">{{ds.POP_2030}}</td>
                <td class="w3-right-align">{{ds.POP_2040}}</td>
                <td class="w3-right-align">{{ds.POP_2050}}</td>
            </tr>
            <tr>
                <td>- Evolution #</td>
                <td class="w3-right-align"> -</td>
                <td class="w3-right-align">{{ds.POP_2030 - ds.POP_2020}}</td>
                <td class="w3-right-align">{{ds.POP_2040 - ds.POP_2030}}</td>
                <td class="w3-right-align">{{ds.POP_2050 - ds.POP_2040}}</td>
            </tr>
            <tr>
                <td>- Evolution % / an</td>
                <td class="w3-right-align">-</td>
                <td class="w3-right-align">{{ds.TX_POP_2030}}</td>
                <td class="w3-right-align">{{ds.TX_POP_3040}}</td>
                <td class="w3-right-align">{{ds.TX_POP_4050}}</td>
            </tr>
            <tr>
                <td>Taille des Menages</td>
                <td class="w3-right-align">{{ds.TM_2020}}</td>
                <td class="w3-right-align">{{ds.TM_2030}}</td>
                <td class="w3-right-align">{{ds.TM_2040}}</td>
                <td class="w3-right-align">{{ds.TM_2050}}</td>
            </tr>
            <tr>
                <td>Besoins en Logements</td>
                <td class="w3-right-align">{{ds.LOG_2020}}</td>
                <td class="w3-right-align">{{ds.LOG_2030}}</td>
                <td class="w3-right-align">{{ds.LOG_2040}}</td>
                <td class="w3-right-align">{{ds.LOG_2050}}</td>
            </tr>
            <tr>
                <td>Besoins en Logements sur 10 ans</td>
                <td class="w3-right-align"> -</td>
                <td class="w3-right-align">{{ds.LOG_2030 - ds.LOG_2020}}</td>
                <td class="w3-right-align">{{ds.LOG_2040 - ds.LOG_2030}}</td>
                <td class="w3-right-align">{{ds.LOG_2050 - ds.LOG_2040}}</td>
            </tr>
            <tr>
                <td>Besoins en Logements par an</td>
                <td class="w3-right-align"> -</td>
                <td class="w3-right-align">{{(ds.LOG_2030 - ds.LOG_2020)/10}} </td>
                <td class="w3-right-align">{{(ds.LOG_2040 - ds.LOG_2030)/10}}</td>
                <td class="w3-right-align">{{(ds.LOG_2050 - ds.LOG_2040)/10}}</td>
            </tr>
            </tbody>
        </table>
         <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="PROJ"></diagnostics>
    </div>
</div>
<div id="Cartes"            class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Cartes</h2>
        <div>
            <h3>Carte Geoportail Parcelles</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE"> Geoportail Parcelles </a></p>
            <iframe height="500" width="900" class="framegeop" :src="ds.URL_CARTE"></iframe>
            <br>
            <h3>Carte Geoportail Logement Social</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_LOGEMENT_SOCIAL">Geoportail Logement Social </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_LOGEMENT_SOCIAL"></iframe>-->
            <br>
            <h3>Carte Geoportail Administrative</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_ADMINISTRATIVE">Geoportail Administrative </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_ADMINISTRATIVE"></iframe> -->
            <br>
            <h3>Carte Geoportail Urbanisme</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_URBANISME">Geoportail Urbanisme </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_URBANISME"></iframe>-->
            <br>
            <h3>Carte Sitadel Koumoul</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_SITADEL"> Koumoul </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_SITADEL"></iframe>-->
            <br>
            <h3>Carte Sitadel Vigibati</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_VIGIBATI">Vigibati </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_VIGIBATI"></iframe> -->
        </div>
    </div>
</div>
<div id="Sources"           class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
            <h2>Sources</h2>
            <div>
                <div class="w3-container w3-section w3-teal">
                    <h2 class="w3-teal w3-padding-16">Sources de Données : </h2>
                </div>
                <ul class="w3-ul w3-card-4">
                    <li><a target="_blank" :href="ds.DOSSIER_INSEE">Dossier Complet Insee : {{ nom }}</a></li>
                    <li><a target="_blank" :href="ds.URL_SOURCE_ARTIFICIALISATION"> Artificialisation : Dossier Cerema </a></li>
                    <li><a target="_blank" :href="ds.URL_SOURCE_SRU"> Logements Sociaux : Dossier Dreal </a></li>
                    <li><a target="_blank" :href="ds.URL_SOURCE_SITADEL"> Logements Construits : Dossier Sitadel </a></li>
                    <li><a target="_blank" :href="ds.URL_SOURCE_COMMUNES"> Données Communes :Dossier Insee </a></li>
                    <li><a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS"> Projections 2050 : Dossier Insee </a></li>
                    <li><a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS_PACA">Projections Paca : Dossier Omphale </a></li>
                </ul>
            </div>
            <br>
            <h2>Autres Sites</h2>
            <p>Données sur Toutes les Villes de France : <a target="_blank" :href="ds.URL_VILLE_DATA">Ville Data</a></p>
            <p>L'Encyclopédie des villes de France : <a target="_blank" :href="ds.URL_LINTERNAUTE">L'internaute</a></p>
            <p>Google : <a target="_blank" :href="ds.URL_GOOGLE">Google Search</a></p>
        </div>
    </div>
<div id="DonneesBrutes"     class="w3-container city w3-animate-opacity">
    <div v-if="data_s != null">
        <h2>Données Brutes</h2>
        <p><a target="_blank" :href="ds.DOSSIER_INSEE">Dossier Insee Complet {{ nom }}</a></p>
        <br>
        <div class="w3-cell-row">
            <div class="w3-container w3-cell w3-mobile">
                <p><a class="btn w3-btn fa fa-download" :href="ds.DOWNLOAD_CSV"> Download CSV</a></p>
            </div>
            <div class="w3-container w3-cell w3-mobile">
                <p><a class="btn w3-btn fa fa-download" :href="ds.DOWNLOAD_XLSX"> Download XLSX</a></p>
            </div>
            <div class="w3-container w3-cell w3-mobile">
                <p><a class="btn w3-btn fa fa-download" :href="ds.DOWNLOAD_JSON"> Download JSON</a></p>
            </div>
        </div>
        <br>
        <table class="w3-table-all w3-hoverable w3-card-4" style="width: 100%;">
            <tr class="w3-teal">
                <th                        style="width: 10%;">Cle de Donnee</th>
                <th class="w3-right-align" style="width: 20%;">Semantique</th>
                <th class="w3-left-align"  style="width: 70%;">Valeur</th>
            </tr>
            <tr  v-for="(item, key) in this.data" :key="key" >
                <td>{{ key }}</td>
                <td class="w3-right-align">{{ item.meta }}</td>
                <td class="w3-left-align"style="white-space: nowrap; text-overflow: ellipsis; overflow: hidden; max-width: 1px;"> {{ item.total }}</td>
            </tr>
        </table>
    </div>
</div>
<div id="Debug"             class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Debug</h2>
        <div class="w3-container w3-section w3-teal"><h2 class="w3-teal w3-padding-16">Diagnostics</h2></div>
        <div v-for='diag in this.data_s.Diagnostics' >
            <ul class="w3-ul w3-card-4">
                <li><h3>{{diag.key}}</h3></li>
                <li> Description : {{diag.description}}</li>
                <li> Test : {{diag.test}}</li>
                <li> Valeur : {{diag.value}}</li>
                <li> Categorie : {{diag.categorie}}</li>
                <li> Type : {{diag.type}}</li>
                <li> Message Si Faux : {{diag.messageSiFaux}}</li>
                <li> Message Si Vrai : {{diag.messageSiVrai}}</li>
            </ul>
            <div v-if="diag.type == 'NOTE'" >
             <div v-if='diag.value == true' class="w3-panel w3-pale-yellow w3-topbar w3-rightbar w3-border-yellow w3-border">
                            <p>{{diag.key}} - {{diag.categorie}}</p>
                            <p>{{diag.description}}</p>
                            <p>{{diag.messageSiVrai}}</p>
             </div>
             <div v-else class="w3-panel w3-pale-yellow w3-bottombar w3-leftbar w3-border-yellow w3-border">
                            <p>{{diag.key}} - {{diag.categorie}}</p>
                            <p>{{diag.description}}</p>
                            <p>{{diag.messageSiFaux}}</p>
             </div>
            </div>
                 <div v-if="diag.type == 'BLUE'" >
                     <div v-if='diag.value == true' class="w3-panel w3-pale-blue w3-topbar w3-rightbar w3-border-blue w3-border">
                                    <p>{{diag.key}} - {{diag.categorie}}</p>
                                    <p>{{diag.description}}</p>
                                    <p>{{diag.messageSiVrai}}</p>
                     </div>
                     <div v-else class="w3-panel w3-pale-blue w3-bottombar w3-leftbar w3-border-blue w3-border">
                                    <p>{{diag.key}} - {{diag.categorie}}</p>
                                    <p>{{diag.description}}</p>
                                    <p>{{diag.messageSiFaux}}</p>
                     </div>
                 </div>

            <div v-if="diag.type == 'DIAG'" >
             <div v-if='diag.value == true' class="w3-panel w3-pale-green w3-leftbar w3-border-green w3-border">
                            <p>{{diag.key}} - {{diag.categorie}}</p>
                            <p>{{diag.description}}</p>
                            <p>{{diag.messageSiVrai}}</p>
             </div>
             <div v-else class="w3-panel w3-pale-red w3-bottombar w3-border-red w3-border">
                            <p>{{diag.key}} - {{diag.categorie}}</p>
                            <p>{{diag.description}}</p>
                            <p>{{diag.messageSiFaux}}</p>
             </div>
         </div>
            <div v-if="diag.type == 'TEST'" >
             <div v-if='diag.value == true' class="w3-panel w3-pale-blue w3-leftbar w3-border-blue w3-border">
                            <p>{{diag.key}} - {{diag.categorie}}</p>
                            <p>{{diag.description}}</p>
                            <p>{{diag.messageSiVrai}}</p>
             </div>
             <div v-else class="w3-panel w3-pale-blue w3-bottombar w3-border-blue w3-border">
                            <p>{{diag.key}} - {{diag.categorie}}</p>
                            <p>{{diag.description}}</p>
                            <p>{{diag.messageSiFaux}}</p>
             </div>
         </div>
        </div>
        <div class="w3-container w3-section w3-teal"> <h2 class="w3-teal w3-padding-16">Données</h2></div>
        <div v-for="(item, key) in this.data" :key="key" >
                <ul class="w3-ul w3-card-4">
                    <li><h3>{{ key }}</h3></li>
                    <li> Semantique : {{ item.meta   }}</li>
                    <li> Expr :       {{ item.expr   }}</li>
                    <li> Type :       {{ item.type   }}</li>
                    <li> Mode :       {{ item.mode   }}</li>
                    <li> Source :     {{ item.source }}</li>
                    <li> Valeur :     {{ item.total  }}</li>
                </ul>
        </div>
    </div>
</div>
<div id="Calculettes"       class="w3-container city w3-animate-opacity">
        <h2>Calculettes</h2>
        <!--
        <calculette-color></calculette-color>
        -->
        <div class="w3-container">
            <div class="w3-container w3-cell">
                <calculette-evol ref="CalculetteEvolPopulation"
                                 titre="Evolution de la Population selon le taux : "
                                 valeur="Population"
                                 rounding="0"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0" >
                </calculette-evol>
            </div>
            <div class="w3-container w3-cell">
                <calculette-taux ref="CalculetteTauxPopulation"
                                 titre="Calcul de Taux, selon l'evolution de la Population : "
                                 valeur="Population"
                                 rounding="3"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0">
                </calculette-taux>
            </div>
        </div>
        <div class="w3-container">
            <div class="w3-container w3-cell">
                <calculette-evol ref="CalculetteEvolTailleMenages"
                                 titre="Evolution de la Taille des Menages selon le taux : "
                                 valeur="Taille des Menages"
                                 rounding="3"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0">
                </calculette-evol>
            </div>
            <div class="w3-container w3-cell">
                <calculette-taux ref="CalculetteTauxTailleMenages"
                                 titre="Calcul de Taux, selon l'evolution de la Taille des Menages : "
                                 valeur="Taille des Menages"
                                 rounding="3"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0">
                </calculette-taux>
            </div>
        </div>
    <br>
</div>
<div id="BigTable"          class="w3-container city w3-animate-opacity">
     <h2>Table de Calcul - Version Beta</h2>
     <div class="w3-container">
        <table-stat ref="TableStat"> </table-stat>
     </div>
</div>
<div id="ObjectifZan"       class="w3-container city w3-animate-opacity">
     <h2>Objectif Zero Artificialisation Nette.</h2>
     <div class="w3-container">
        <table-ozan ref="ObjectifZan"> </table-ozan>
     </div>
</div>
<div id="MichelZan"         class="w3-container city w3-animate-opacity">
     <h2>Michel - Objectif Zero Artificialisation Nette.</h2>
     <div class="w3-container">
        <michel-ozan ref="MichelZan"> </michel-ozan>
     </div>
</div>

</div>

<!-- Footer -->
<br>
<footer class="w3-container w3-theme-dark w3-padding-16">

<!-- Contact & Counters -->
<div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Vigi Foncier 2021</h3>
        <p><a class="w3-btn"
              href="https://www.gadseca.org/" target="_blank">
              Powered by Gadesca</a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Contact / Information</h3>
        <p><a class="w3-btn"
              href="mailto:gadceca06@gmail.com?subject=A%20propose%20de%20Consommation%20Fonciere">
              Contactez nous par email.
        </a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Pour en savoir plus</h3>
        <p><a class="w3-btn"
              href="README.dillinger.html">
              Lisez-moi.
        </a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Open Source</h3>
        <p><a class="w3-btn"
              href="https://github.com/bheuse/ConsommationFonciere">
              Projet Github.
        </a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Hosted by Infinity Free</h3>
        <p><a class="w3-btn"
              href="https://infinityfree.net/">
              Free Hosting Here.
        </a></p>
    </div>
</div>
<div>
    <div class="w3-container w3-cell w3-mobile">
        <br>Visiteurs
             <div id="sfcdw41gx8hc14zxkkbm3eu7u38cu64puqy"></div>
             <script type="text/javascript" src="https://counter7.stat.ovh/private/counter.js?c=dw41gx8hc14zxkkbm3eu7u38cu64puqy&down=async" async>
             </script>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <br>Visites
            <div id="sfcyl7udu4q68pa87lccp7rqg97jnl49634"></div>
            <script type="text/javascript" src="https://counter7.stat.ovh/private/counter.js?c=yl7udu4q68pa87lccp7rqg97jnl49634&down=async" async>
            </script>
    </div>
</div>

<!-- Sources -->
<div class="w3-container w3-theme-dark w3-padding-16">
     <h2>Sources de Données : </h2>
     <div v-if="data_s != null">
        <div class="w3-container w3-cell w3-mobile">
             <p>Statistiques INSEE:<br>    <a target="_blank" :href="ds.URL_STATISTIQUES_INSEE">Dossiers Insee</a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Artificialisation :<br>    <a target="_blank" :href="ds.URL_SOURCE_ARTIFICIALISATION"> Dossier Cerema </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Logements Sociaux :<br>   <a target="_blank" :href="ds.URL_SOURCE_SRU"> Dossier Dreal </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Logements Construits :<br> <a target="_blank" :href="ds.URL_SOURCE_SITADEL"> Dossier Sitadel </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Données Communes :<br>     <a target="_blank" :href="ds.URL_SOURCE_COMMUNES"> Dossier Insee </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Projections 2050 :<br>     <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS"> Dossier Insee </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Projections Paca :<br>     <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS_PACA"> Dossier Omphale </a></p>
        </div>
    </div>
</div>

<!-- Tracker
<div  v-if="this.data_s != null">
        <div class="w3-container w3-theme-dark w3-mobile w3-center ">
        <iframe frameBorder="0" height="190" width="700" :src="ds.GOOGLE_TRACKER"></iframe>
        </div>
</div>
-->

<!-- Rapport Complet(was in Tracker) -->
<div class="w3-teal w3-center">
    <h2 class="w3-teal w3-center">Vigi Foncier - Un site du Gadseca</h2>
    <img class="w3-center w3-image"
          src="input/Gadseca_50Ans.jpg"
          alt="Gadseca Logo"
          style="display: block; margin-left: auto; margin-right: auto; width: 600px; height: auto;">
</div>


</footer>

</div> <!-- App -->

<!--
########################
     Ozan Template
########################
-->

<script type="text/x-template" id="ozan-template">

<div class="w3-container">

<div  v-if="this.dataset != null">
<h3 v-if="titre"> {{titre}}</h3>
<h4 class="w3-left">Les Formules de la Federation des SCoT et de l'Union Nationale des Aménageurs
                    avec les données les plus récentes, et pertinentes au territoire.</h4>
<br>
<br>
<p>La Fédération Nationale des SCoT regroupe les structures porteuses de Shémas de Coherence Territoriale</p>
<p>L'Union Nationale des Aménageurs est l'organisation des professionnels privés qui accompagnent les aménageurs dans leurs territoires.</p>
<div>
<div class="w3-border">
<div class="w3-bar w3-theme w3-right">
<button class="w3-bar-item w3-button ozanbtn w3-padding-16"                     onclick="openTabOzan(event,'Insee')">         Insee </button>
<button class="w3-bar-item w3-button ozanbtn w3-padding-16 w3-2021-french-blue" onclick="openTabOzan(event,'Territoire')">    Votre territoire</button>
<button class="w3-bar-item w3-button ozanbtn w3-padding-16 w3-flat-wisteria"    onclick="openTabOzan(event,'Coteacote')">     Côte à Côte</button>
</div>
</div>

<div id="Insee"  class="w3-container ozan w3-animate-opacity">
        <h2>Insee</h2>
        <div>
            <br>
            <div class="w3-panel w3-hoverable w3-card-4 w3-teal">
            <h2>Estimations basées sur les chiffres de l'Insee :</h2>
        </div>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="43" class="w3-left-align  w3-teal">Période d'étude</th>
                <th class="w3-right-align w3-teal">2018</th>
                <th class="w3-right-align w3-teal">2030</th>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td height="43"> Population</td>
                <td class="w3-right-align">{{this.ds.oz_population_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_variation}}</td>
            </tr>
            <tr>
                <td height="43"> Nombre de personnes par ménage</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_variation}}</td>
            </tr>
            <tr>
                <td height="43">Demande potentielle liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td height="43"><i>- à la croissance démographique</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td height="43"><i>- au desserrement des ménages</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td height="43">Parc de logements vacants</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td height="43">Parc de résidences secondaires</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td height="43">Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-teal">
            <br>
            <p>Demande potentielle à l'horizon 2030 : {{ this.ds.oz_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.scen_taux_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange1" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_taux_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange2" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

            <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>

        <br>
        <img src="input/Densite.png" alt="Examples de Densite" >
        <br>
        <br>
        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>


        <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-orange">
                        <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                        <th class="w3-right-align ">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th class="w3-right-align w3-teal">Objectif atteint sur 10 ans !</th>
                        <th class="w3-right-align w3-teal">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>


        <div class="w3-panel w3-card-4 w3-teal" style="text-align:justify">
            <br>
            <p>Hectares consommes ces 10 dernieres annees : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares disponibles les 10 prochaines annees : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements Construits en Renouvellement : {{ this.ds.oz_logement_en_renouvellement }}</p>
            <p>Logements Construits en Extension : {{ this.ds.oz_logement_en_extension }}</p>
            <p>Hectares necessaires en Extension : {{ this.ds.oz_ha_consommes_en_extension }}</p>
            <p>Difference par rapport aux besoins : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }}</p>
            <br>
        </div>

      </div>
</div>
<div id="Territoire"  class="w3-container ozan w3-animate-opacity">
        <h2>Votre Territoire</h2>
                <br>
                <div class="w3-panel w3-hoverable w3-card-4 w3-2021-french-blue">
                <h2>Saisir les besoins en logements sur votre territoire :</h2>
                </div>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-2021-french-blue">
                <th class="w3-left-align w3-2021-french-blue">Période d'étude</th>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_arrivee"></td>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td>Population</td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_depart"></td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_population_variation}}</td>
            </tr>
            <tr>
                <td>Personnes par ménage</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_arrivee"></td>
                <td class="w3-right-align"> {{this.ds.oz_scen_tm_variation}}</td>
            </tr>
            <tr>
                <td>Demande liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td><i>- à la démographie</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td><i>- au desserrement </i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td>Logements vacants</td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_depart"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td>Résidences secondaires</td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_depart"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td>Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_desaffectations"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-2021-french-blue">
            <br>
            <p>Demande potentielle à l'horizon {{this.ds.oz_scen_an_arrivee}} : {{ this.ds.oz_scen_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_scen_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer ">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.oz_scen_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange3" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer ">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.oz_scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange4" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

            <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>
        <br>


        <p align-text="left" ><b>A titre d'exemple : </b></p>
        <img src="input/Densite_3.jpg" alt="Examples de Densite"  >
        <br>
        <br>

        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_scen_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>


            <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-orange">
                            <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                            <th class="w3-right-align ">Ha en 2030</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
                <br>
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-2021-french-blue">Objectif atteint sur 10 ans !</th>
                            <th class="w3-right-align w3-2021-french-blue">Ha en 2030</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
                <br>
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>

        <div class="w3-panel w3-card-4 w3-2021-french-blue" style="text-align:justify">
            <br>
            <p>Hectares consommes ces 10 dernieres annees : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares disponibles les 10 prochaines annees : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements Construits en Renouvellement : {{ this.ds.oz_scen_logement_en_renouvellement }}</p>
            <p>Logements Construits en Extension : {{ this.ds.oz_scen_logement_en_extension }}</p>
            <p>Hectares necessaires en Extension : {{ this.ds.oz_scen_ha_consommes_en_extension }}</p>
            <p>Difference par rapport aux besoins : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares</p>
            <br>
        </div>
</div>
<div id="Coteacote"  class="w3-container ozan w3-animate-opacity">
        <h2>Côte à Côte</h2>
        <div class="columns">
            <div class="column">
                <br>
                <div class="w3-panel w3-hoverable w3-card-4 w3-teal">
                <h2>Estimations basées sur les chiffres de l'Insee :</h2>
                </div>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="43" class="w3-left-align  w3-teal">Période d'étude</th>
                <th class="w3-right-align w3-teal">2018</th>
                <th class="w3-right-align w3-teal">2030</th>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td height="43">Population</td>
                <td class="w3-right-align">{{this.ds.oz_population_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_variation}}</td>
            </tr>
            <tr>
                <td height="43"> Nombre de personnes par ménage</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_variation}}</td>
            </tr>
            <tr>
                <td height="43">Demande potentielle liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td height="43"><i>- à la croissance démographique</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td height="43"><i>- au desserrement des ménages</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td height="43">Parc de logements vacants</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td height="43">Parc de résidences secondaires</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td height="43">Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-teal">
            <br>
            <p>Demande potentielle à l'horizon 2030 : {{ this.ds.oz_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.scen_taux_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange5" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_taux_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange6" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

            <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>

        <br>
        <img src="input/Densite.png" alt="Examples de Densite" >
        <br>
        <br>
        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>


        <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-orange">
                        <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                        <th class="w3-right-align ">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th class="w3-right-align w3-teal">Objectif atteint sur 10 ans !</th>
                        <th class="w3-right-align w3-teal">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>


        <div class="w3-panel w3-card-4 w3-teal" style="text-align:justify">
            <br>
            <p>Hectares consommes ces 10 dernieres annees : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares disponibles les 10 prochaines annees : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements Construits en Renouvellement : {{ this.ds.oz_logement_en_renouvellement }}</p>
            <p>Logements Construits en Extension : {{ this.ds.oz_logement_en_extension }}</p>
            <p>Hectares necessaires en Extension : {{ this.ds.oz_ha_consommes_en_extension }}</p>
            <p>Difference par rapport aux besoins : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }}</p>
            <br>
        </div>

      </div>
         <div class="column">
                <br>
                <div class="w3-panel w3-hoverable w3-card-4 w3-2021-french-blue">
                <h2>Saisir les besoins en logements sur votre territoire :</h2>
                </div>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-2021-french-blue">
                <th class="w3-left-align w3-2021-french-blue">Période d'étude</th>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_arrivee"></td>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td>Population</td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_depart"></td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_population_variation}}</td>
            </tr>
            <tr>
                <td>Personnes par ménage</td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_depart"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_tm_variation}}</td>
            </tr>
            <tr>
                <td>Demande liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td><i>- à la démographie</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td><i>- au desserrement </i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td>Logements vacants</td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_depart"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td>Résidences secondaires</td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_depart"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td>Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"> <input type="number"min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_desaffectations"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-2021-french-blue">
            <br>
            <p>Demande potentielle à l'horizon {{this.ds.oz_scen_an_arrivee}} : {{ this.ds.oz_scen_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_scen_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer ">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.oz_scen_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange7" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer ">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.oz_scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange8" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

            <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>
        <br>


        <p  ><b>A titre d'exemple : </b></p>
        <img src="input/Densite_3.jpg" alt="Examples de Densite"  >
        <br>
        <br>

        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_scen_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>


            <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-orange">
                            <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                            <th class="w3-right-align ">Ha en 2030</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
                <br>
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-2021-french-blue">Objectif atteint sur 10 ans !</th>
                            <th class="w3-right-align w3-2021-french-blue">Ha en 2030</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
                <br>
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>

        <div class="w3-panel w3-card-4 w3-2021-french-blue" style="text-align:justify">
            <br>
            <p>Hectares consommes ces 10 dernieres annees : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares disponibles les 10 prochaines annees : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements Construits en Renouvellement : {{ this.ds.oz_scen_logement_en_renouvellement }}</p>
            <p>Logements Construits en Extension : {{ this.ds.oz_scen_logement_en_extension }}</p>
            <p>Hectares necessaires en Extension : {{ this.ds.oz_scen_ha_consommes_en_extension }}</p>
            <p>Difference par rapport aux besoins : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares</p>
            <br>
        </div>


         </div>
      </div>
        <br>
        <div class="columns">
             <div class="column">
        </div>
             <div class="column">
            </div>
        </div>

    </div>

</div>

</div>


</div>

</script>

<!--
########################
     Michel Template
########################
-->

<script type="text/x-template" id="michel-template">

    <div  v-if="this.dataset != null">
        <h3 v-if="titre"> {{titre}}</h3>
        <br>
        <h1 class="w3-center" >Les Formules de Michel !</h1>
        <br>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="50" class="w3-left-align  w3-teal">Etapes</th>
                <th height="50" class="w3-right-align  w3-teal">Taux</th>
                <th height="50" class="w3-right-align  w3-teal">{{this.ds.michel_an_donnee}}</th>
                <th class="w3-right-align w3-teal">{{this.ds.michel_an_depart}}</th>
                <th class="w3-right-align w3-teal">{{this.ds.michel_an_arrivee}}</th>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td height="50" >0 - Dates</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.michel_an_donnee}}</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="2050" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_an_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2050" max="2050" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_an_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_duree}}</td>
            </tr>
            <tr>
                <td height="50" >1 - Population</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="-10" max="10" step="0.001"  style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_taux"></td>
                <td class="w3-right-align">{{this.ds.P18_POP}}</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_depart"></td>
                <td class="w3-right-align">{{this.ds.michel_pop_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_arrivee - this.ds.michel_pop_depart}}</td>
            </tr>
            <tr>
                <td height="50" >2.0 - Besoins en Logements</td>
            </tr>
            <tr>
                <td height="50" >2.1 - Population hors Ménages</td>
                <td class="w3-right-align">{{((this.ds.C18_HORS_MEN/this.ds.P18_POP)*100).toFixed(1)}}%</td>
                <td class="w3-right-align">{{this.ds.C18_HORS_MEN}}</td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_pop_hm_depart/this.ds.michel_pop_depart)*100).toFixed(1)}}% - <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_hm_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_pop_hm_arrivee/this.ds.michel_pop_arrivee)*100).toFixed(1)}}% - <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_hm_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_pop_hm_delta}}</td>
            </tr>
            <tr>
                <td height="50" >2.2 - Population des Ménages</td>
                <td class="w3-right-align">{{this.ds.michel_pop_taux}}</td>
                <td class="w3-right-align">{{this.ds.C18_MEN}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_men_depart}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_men_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_men_delta}}</td>
            </tr>
            <tr>
                <td height="50" >2.3 - Taille des Ménages</td>
                <td class="w3-right-align">{{this.ds.michel_tm_tendance_5_ans}}</td>
                <td class="w3-right-align">{{this.ds.TM_2018}}</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="1" max="5" step="0.001" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_tm_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="1" max="5" step="0.001" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_tm_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_tm_delta}}</td>
            </tr>
            <tr>
                <td height="50" >2.4 - Résidences Principales</td>
                <td class="w3-right-align">{{this.ds.michel_tx_rp_an_donnee *100}}%</td>
                <td class="w3-right-align">{{this.ds.C18_MEN}}</td>
                <td class="w3-right-align">{{((this.ds.michel_rp_depart/this.ds.michel_log_depart)*100).toFixed(1)}}% - {{this.ds.michel_rp_depart}}</td>
                <td class="w3-right-align">{{((this.ds.michel_rp_arrivee/this.ds.michel_log_arrivee)*100).toFixed(1)}}% - {{this.ds.michel_rp_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_rp_delta}}</td>
            </tr>
            <tr>
                <td height="50" >3 - Residences Secondaires</td>
                <td class="w3-right-align">{{this.ds.michel_tx_rs_an_donnee *100}}%</td>
                <td class="w3-right-align">{{this.ds.P18_RSECOCC}}</td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rs_depart/this.ds.michel_log_depart)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rs_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rs_arrivee/this.ds.michel_log_arrivee)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rs_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_rs_delta}}</td>
            </tr>
            <tr>
                <td height="50" >4 - Residences Vacantes</td>
                <td class="w3-right-align">{{this.ds.michel_tx_rv_an_donnee *100}}% </td>
                <td class="w3-right-align">{{this.ds.P18_LOGVAC}}</td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rv_depart/this.ds.michel_log_depart)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rv_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rv_arrivee/this.ds.michel_log_arrivee)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rv_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_rv_delta}}</td>
            </tr>
            <tr>
                <td height="50" >4.1- Parc Total de Logements</td>
                <td class="w3-right-align">100.0%</td>
                <td class="w3-right-align">{{this.ds.log_2018}}</td>
                <td class="w3-right-align">{{this.ds.michel_log_depart}}</td>
                <td class="w3-right-align">{{this.ds.michel_log_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_log_delta}}</td>
            </tr>
            <tr>
                <th height="50" >4.2- Besoins en Logements</th>
                <td class="w3-right-align"></td>
                <th class="w3-right-align">{{this.ds.michel_log_delta}}</th>
                <th class="w3-left-align">Logements</th>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            </tbody>
        </table>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr>
                <th class="w3-teal" height="50" >Renouvellement du Parc</th>
                <th class="w3-right-align w3-teal"></th>
                <th class="w3-right-align w3-teal"></th>
                <th class="w3-right-align w3-teal"></th>
                <th class="w3-right-align w3-teal">Evolution du Parc</th>
                <th class="w3-right-align w3-teal">Construits </th>
                <th class="w3-right-align w3-teal">Renouvellement</th>
            </tr>
            <tr>
                <td height="50" >5.0 - Renouvellement du Parc (sur 2013-2018)</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">Evolution {{this.ds.michel_evolution_parc_5_ans}}</td>
                <td class="w3-right-align">Construits {{this.ds.michel_construits_5_ans}}</td>
                <td class="w3-right-align">{{this.ds.michel_renouvellement_5_ans}}</td>
            </tr>
            <tr>
                <td height="50" >5.1 - Renouvellement annuel futur ({{this.ds.michel_an_depart}} - {{this.ds.michel_an_arrivee}}) :</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align w3-2021-french-blue"> (en %) <input  type="number" min="0" max="099" step="0.001" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_renouvellement_taux"></td>
                <td class="w3-right-align">En nombre (par an) : </td>
                <td class="w3-right-align">{{this.ds.michel_renouvellement_nombre_an}}</td>
            </tr>
            <tr>
                <td height="50" >5.2 - Renouvellement a terme</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.michel_renouvellement_arrivee}}</td>
            </tr>
            <tr>
                <th height="50" >5.3 - Besoin en logements sur foncier vierge:</th>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <th class="w3-right-align">{{this.ds.michel_besoin_logements_sur_foncier_vierge}}</th>
                <th class="w3-left-align">Logements</th>
                <td class="w3-right-align"></td>
            </tr>
            </tbody>
        </table>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="50" class="w3-left-align  w3-teal">Zonage</th>
                <th class="w3-right-align w3-teal">Zone 1</th>
                <th class="w3-right-align w3-teal">Zone 2</th>
                <th class="w3-right-align w3-teal">Zone 3</th>
                <th class="w3-right-align w3-teal">Zone 4</th>
                <th class="w3-right-align w3-teal">Zone 5</th>
                <th class="w3-right-align w3-teal">Zone 6</th>
                <th class="w3-right-align w3-teal">Total</th>
            </tr>
            <tr>
                <td height="50" >6a - Répartition des logts au depart (en % - pour information)</td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N1"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N2"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N3"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N4"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N5"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_6a_repartition_log_Total}}</td>
            </tr>
            <tr>
                <td height="50" >6b - Répartition des nouveaux logts  (en %)</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_6b_repartition_nouv_log_Total}}</td>
            </tr>
            <tr>
                <td height="50" >6c - Répartition des besoins en logts (en nombre)</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_Total}}</td>
            </tr>
            <tr>
                <td height="50" >7a - Possibilité de Densification (logts en nombre) </td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_7a_densification_Total}}</td>
            </tr>
            <tr>
                <td height="50" >7b - Constructions en Extension (en nombre)</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8a - Densite Nette en Log/Ha</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_8a_densite_nette_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8b - Surface Nette en Extension (Ha)</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8c - Rajout Equipements (en %)</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_8c_surface_equipements_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8c - Rajout Equipements en surface (Ha)</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8d - Hectares nécessaires (Ha)</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_Total}}</td>
            </tr>
            <tr>
                <th height="50" >8e - Foncier nécessaire (Ha)</th>
                <th class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_Total}}</th>
                <th class="w3-left-align">Hectares</th>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            </tbody>
        </table>

        <div class="w3-panel w3-card-4 w3-teal w3-center">
            <br>
            <h1>{{ this.ds.michel_8e_message_sobriete }}</h1>
            <br>
            <h2>Votre niveau de sobriété fonciere    :  {{ this.ds.michel_8d_niveau_sobriete }}%</h2>
            <br>
            <p>Consommation Fonciere passée en 10 ans : {{ this.ds.michel_8a_consomation_cerema_10_ans }} ha</p>
            <p>Consommation Fonciere passée annuelle :  {{ this.ds.michel_8b_consomation_cerema_annuelle }} ha</p>
            <p>Consommation Fonciere future annuelle :  {{ this.ds.michel_8c_consomation_prevue_annuelle }} ha</p>
            <br>
        </div>
    </div>

</script>

<!--
########################
     Java Script Logic
########################
-->

<script  src="ConsommationFonciereV3.js?v=1"></script>

</body>
</html>