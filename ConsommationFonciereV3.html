<!DOCTYPE html>
<html lang="fr" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <title>Consommation Fonciere</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <meta property="og:title" content="VigiFoncier.fr">
    <meta property="og:description"
          content="Statistiques et Projections de Consommation Fonciere pour PLUs et SCoTs dans toute la France.">
    <meta property="og:image" content="https://vigibati.fr/static/img/social-preview.jpg">
    <link rel="shortcut icon" type="image/png" href="https://vigibati.fr/static/img/favicon.png">
    <!-- Vue & jQuery Charts -->
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.0/css/bulma.css'>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-purple.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-2021.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-flat.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    .btn {
      background-color: Teal;
      border: none;
      color: white;
      padding: 10px 30px;
      cursor: pointer;
      font-size: 18px;
    }
    .center {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 50%;
    }
    /* Darker background on mouse-over */
    .btn:hover {
      background-color: Emerald;
      color: white;
    }
    </style>
    <style>
    .slidecontainer {
      width: 100%;
    }

    .slider {
      -webkit-appearance: none;
      width: 100%;
      height: 15px;
      border-radius: 5px;
      background: #d3d3d3;
      outline: none;
      opacity: 0.7;
      -webkit-transition: .2s;
      transition: opacity .2s;
    }

    .slider:hover {
      opacity: 1;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #04AA6D;
      cursor: pointer;
    }

    .slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #04AA6D;
      cursor: pointer;
    }
    </style>
    <!-- Chartjs Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <!-- Vue Chartjs Charts -->
    <script src="https://unpkg.com/vue-chartjs@3.5.1/dist/vue-chartjs.min.js"></script>
    <!-- <script src="https://unpkg.com/vue-chartjs/dist/vue-chartjs.min.js"></script>  -->
    <!-- Plotly Charts -->
    <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>
    <!-- Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- Global Analytics - site tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F6W0QF8E5V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-F6W0QF8E5V');
    </script>

    <!-- Utilities -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/danfojs@0.3.3/lib/bundle.min.js"></script>
</head>

<body onload="onPageLoaded()">

<div id="app">

<!-- Header -->
<header class="w3-container w3-theme w3-padding" id="myHeader">
    <i onclick="w3_open()" class="fa fa-bars w3-xlarge w3-button w3-theme"></i>
    <div class="w3-center"><h4>Sobriété Foncière</h4>
        <h1 class="w3-xxxlarge w3-animate-bottom">Sobriété Foncière par France Nature Environnement</h1>
    Consultez les données de votre territoire et planifiez votre urbanisation
    en accord avec l'objectif Zéro Artificialisation Nette de la loi Climat et Résilience.
          <div class="columns">
             <div class="column"></div>
             <div class="column">
                <div class="w3-padding-32">
                    <button class="w3-btn w3-xlarge w3-theme-dark w3-hover-light-green w3-mobile"
                            onclick="document.getElementById('id01').style.display='block'"
                            style="font-weight: 900;">A Propos de Sobriété Foncière
                    </button>
                </div>
             </div>
             <div class="column">
                <div class="w3-padding-32">
                    <button class="w3-btn w3-xlarge w3-theme-dark w3-hover-light-green w3-mobile"
                            onclick="document.getElementById('id02').style.display='block'"
                            style="font-weight: 900;">Comment ca marche ?
                    </button>
                </div>
             </div>
             <div class="column">
                <div class="w3-padding-32">
                    <button class="w3-btn w3-xlarge w3-theme-dark w3-hover-light-green w3-mobile"
                            onclick="document.getElementById('id03').style.display='block'"
                            style="font-weight: 900;">Avertissement
                    </button>
                </div>
             </div>
             <div class="column"></div>
          </div>
    </div>
</header>

<!-- Modal Pop Up -->
<div id="id01" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-dark w3-mobile">
        <span onclick="document.getElementById('id01').style.display='none'"
        class="w3-button w3-display-topright">×</span>
        <h4>A propos de Sobriété Foncière</h4>
      </header>
      <div class="w3-center">
        <p></p>
        <p>Objectif Zéro Artificialisation Nette !</p>
        <a href="https://fne.asso.fr/" target="_blank" ><img src="https://www.mightyearth.org/wp-content/uploads/image003.png" alt="France Nature Environement" width="456" height="128"> </a>
        <p><a class="w3-btn" href="mailto:gadceca06@gmail.com?subject=A%20propose%20de%20Consommation%20Fonciere"> Information – Contactez nous pour en savoir plus </a></p>
        <p>Un site developé en collaboration avec le Gadseca et mySophiaAntipolis ! </p>
      </div>
      <footer class="w3-container w3-theme-dark">
        <h4>France Nature Environnement</h4>
      </footer>
    </div>
</div>

<!-- Modal Pop Up -->
<div id="id02" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-dark w3-mobile">
        <span onclick="document.getElementById('id02').style.display='none'"
        class="w3-button w3-display-topright">×</span>
        <h4>Citoyens pour le Climat et la Nature.</h4>
      </header>
      <div class="w3-container">
        <p></p>
        <h3>Objectif Zéro Artificialisation Nette !</h3>
        <p>A l'horizon 2030, diviser au moins par deux le rythme d'artificialisation des espaces naturels, agricoles et forestiers,
            par rapport à la consommation d'espaces observée depuis 2010.</p>
        <h3>La Loi Climat et Résilience</h3>
        <p>L'objectif ZAN en 2050 fixé dans le cadre du "plan biodiversité" de 2018 a été confirmé par le vote
            de la loi Climat et Résilience à l'Assemblée Nationale le 22 août 2021. Afin d’y parvenir, la loi fixe
            un objectif  de réduction du rythme de l'artificialisation par tranches de 10 années. Pour la première
            tranche, 2021-2031, la consommation des espaces naturels, agricoles ou forestiers (ENAF) devra être
            réduite de moitié par rapport à la consommation réelle de ces espaces observée sur les dix années
            précédentes. Ce simulateur vous permet de vérifier si, en envisageant un développement raisonnable
            de votre territoire et en optimisant la densification du tissu urbain existant, une division par deux
            des ouvertures à l’urbanisation permettra de répondre aux besoins en logements futurs.</p>
        <h3>Consulter les données de votre territoire</h3>
        <p>Ce site vous permet de consulter les données historiques d'évolution de la population, des constructions
            de logement, de l'artificialisation, des besoins en logements sociaux, consolidées sur votre territoire,
            ainsi que les dernières projections de l'INSEE.</p>
        <p>Il ne porte que sur le logement et ne traite pas du foncier destiné à des équipements ou à l'économie.</p>
        <h3>Mettez votre territoire en accord avec l'objectif ZAN </h3>
        <p>Un outil de test vous permet de tester différents scenario d'urbanisation pour atteindre votre objectif ZAN.</p>
        <img src="input/CommentCaMarche.png" alt="Comment Ca Marche ?" width="956" height="128">
        <p></p>
      </div>
      <footer class="w3-container w3-theme-dark">
        <h4>Objectif: Zero Artificialisation Nette.</h4>
      </footer>
    </div>
</div>

<!-- Modal Pop Up -->
<div id="id03" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-dark w3-mobile">
        <span onclick="document.getElementById('id03').style.display='none'"
        class="w3-button w3-display-topright">×</span>
        <h4>Clause de non-responsabilité.</h4>
      </header>
      <div class="w3-container">
        <p></p>
        <h3>Contenu du site.</h3>
        <p>L’auteur du site web ne peut en aucun cas être tenu responsable de la pertinence, de l’exactitude,
            de l’intégrité ou de la qualité du contenu mis en ligne. La responsabilité de l’auteur de ce site
            ne peut être engagée en cas de dommages financiers, environementaux, matériels ou intellectuels résultant de l’utilisation ou
            de la non-utilisation des informations contenues dans le site web, d’informations erronées ou incomplètes,
            dans la mesure où il ne peut pas être établi qu’il s’agit d’un acte délibéré ou d’une négligence
            de la part de l’auteur.</p>
         <p> Toutes les informations contenues dans ce site sont libres et sans engagement. L’auteur de ce site
            se réserve expressément le droit de modifier, de compléter ou de supprimer tout ou partie du contenu
            du site sans préavis ainsi que d’en suspendre la publication à titre temporaire ou définitif.</p>
        <p></p>
        <h3>Sources et Traitement des données.</h3>
        <p>Les données présentées sur ce site sont collectées sur les fichiers sources publics indiqués dans l'onglet Données/Sources,
           puis traitées pour en déduire des indicateurs, selon les formules indiquées dans l'onglet Données/Données Brutes.
           Ces indicateurs sont ensuite affichés dans les autres onglets thématiques.
        </p>
        <h3>Interprétation des indicateurs.</h3>
        <p>Les formules utilisées et les indicateurs affichés ont été vérifiés dans la mesure de nos moyens.
            Cependant, des erreurs peuvent toujours se glisser dans les données affichées, et l'interprétation des
            indicateurs peut être sujet à débat.
        </p>
        <h3>Utilisation des données.</h3>
        <p>Les données présentées sur ce site sont donc indicatives. Leur utilisation dans le cadre d'orientation structurantes
            et de décisions doit faire l'objet d'une vérification approfondie à partir des sources de données les plus pertinentes.</p>
        <p> FNE Paca, le Gadseca et mySophiaAntipolis ne peuvent en aucun cas etre tenu responsable de l'utilisation
            des données présentées sur ce site.
        </p>
        <p></p>
      </div>
      <footer class="w3-container w3-theme-dark">
        <h4>Avertissement.</h4>
      </footer>
    </div>
</div>

<!-- Modal Pop Up -->
<div id="id04" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-dark w3-mobile">
        <span onclick="document.getElementById('id04').style.display='none'"
        class="w3-button w3-display-topright">×</span>
        <h4>Mentions Légales.</h4>
      </header>
      <div class="w3-container">
        <p></p>
        <p>
        Conformément aux dispositions de la loi n° 2004-575 du 21 juin 2004 pour la confiance en l’économie numérique,
        il est précisé aux utilisateurs du site "sobriété fonciere" l’identité des différents intervenants dans le
        cadre de sa réalisation et de son suivi.
        </p>
        <h3>Edition du site.</h3>
        <p> Le site "sobriété fonciere" est édité par l'association Gadseca (Groupement des Associations de Défense des
        Sites et de l’Environnement de la Côte d’Azur), dont le siège social est situé 288 Chemin de Saint-Claude,
        06600 Antibes, France, immatriculée au Registre National des Associations sous le numéro RNA : W06100687. </p>
        <h3>Responsable de publication.</h3>
        <p>Patrick Valvert</p>
        <h3>Nous contacter.</h3>
        <p>Par email: gadseca06@gmail.com</p>
        <h3>Hébergeur.</h3>
        <p>Le site "sobriété fonciere" est hébergé par o2switch, société du groupe Zohey.</p>
        <p></p>
      </div>
      <footer class="w3-container w3-theme-dark">
        <h4>Mentions Légales.</h4>
      </footer>
    </div>
</div>

<!-- Departements (Paca Seulement) ... -->
<div>
    <h2 class="w3-center">Region PACA</h2>
    <!-- src="https://www.acted.org/wp-content/uploads/2018/09/region-paca.jpg" -->
    <img class="w3-center w3-image"
          src="input/CartoPaca3-Green.png"
          alt="Region Paca Logo"
          style="display: block; margin-left: auto; margin-right: auto; width: 600px; height: auto;">
</div>

<!-- Selection -->
<div>
    <div v-if="this.data_s == null">
        <h2 class="w3-center">{{ message }} </h2>
    </div>
    <div v-else>
        <h2 class="w3-center">{{ message }} </h2>
    </div>
    <div class="w3-cell-row w3-teal w3-mobile">
            <div class="w3-container w3-teal w3-cell w3-mobile w3-cell-middle w3-quarter w3-padding-16">
                <p class="w3-padding-8 w3-right-align"> Département : </p>
                <p class="w3-padding-8 w3-right-align"> EPCI : </p>
                <p class="w3-padding-8 w3-right-align"> SCoT / Zone : </p>
                <p class="w3-padding-8 w3-right-align"> Commune : </p>
            </div>
            <div class="w3-container w3-teal w3-cell w3-mobile w3-cell-middle w3-threequarter w3-padding-16">
            <select class="w3-theme-dark w3-select w3-hover-green" searchable="w3-select Rechercher ici ..." v-model="selectedDepartement" @change="selectDeptEvent($event);"  autofocus>
                <option disabled="" value="" disabled selected> Sélectionner un Département</option>
                <div v-if="this.data_s !== null" >
                    <option v-for='item in this.selectDepts' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            <select class="w3-theme w3-select w3-hover-green" searchable="w3-select Rechercher ici ..." v-model="selectedEPCI"   @change="selectEpciEvent($event)">
                <option disabled="" value="" disabled selected> Sélectionner un EPCI</option>
                <div v-if="this.data_s !== null">
                    <option v-for='item in this.selectEpcis' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            <select class="w3-theme w3-select w3-hover-green" searchable="w3-select Rechercher ici ..." v-model="selectedZone"   @change="selectZoneEvent($event)">
                <option disabled="" value="" disabled selected> Sélectionner un SCoT ou une Zone Territoriale</option>
                <div v-if="this.data_s !== null">
                    <option v-for='item in this.selectZones' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            <select class="w3-theme w3-select w3-hover-green" searchable="w3-select Rechercher ici ..."v-model="selectedCommune" @change="selectCommuneEvent($event)">
                <option disabled="" value=""  disabled selected> Sélectionner une Commune</option>
                <div v-if="this.data_s !== null">
                    <option v-for='item in this.selectCommunes' :content="item.nom" >{{ item.nom }}</option>
                </div>
            </select>
            </div>
        </div>
    <hr>
</div>

<!-- Rapport -->
<div>
    <div v-if="this.data_s == null">
         <h2 class="w3-center">Rapport : {{ message }}</h2>
         <h3 class="w3-container w3-padding-32 w3-theme"> {{ select_message }}</h3>
    </div>
    <div v-else>
         <h2 class="w3-center">Rapport : {{nom}} </h2>
            <div v-if="territoire == 'Commune'">
                 <h3 class="w3-container w3-padding-32 w3-theme">{{territoire}} {{code}} : {{nom}} - {{ds.CODE_POSTAL}} - {{ ds.POP_LEGALE_2019 }} habitants</h3>
            </div>
            <div v-else>
                 <h3 class="w3-container w3-padding-32 w3-theme">{{territoire}} {{code}} : {{nom}} - {{ ds.POP_LEGALE_2019 }} habitants</h3>
            </div>

        <div class="w3-container">
            <div v-if="ds.LIBEPCI != 'DEPT'">
                <p> EPCI / SCoT / Zone : {{ ds.DISPLAY_EPCI}} - {{ ds.EPCI}}  </p>
            </div>
            <p> Département : {{ ds.DISPLAY_DEPT}} - {{ ds.DEP}} </p>
            <p> Région :      {{ ds.DISPLAY_REG}} - {{ ds.REG }}  </p>
        </div>
        <div class="w3-container">
            <div v-if="ds.HORS_PACA != '0'">
                <p style="color:red"><b> ATTENTION : Ce territoire contient {{ ds.HORS_PACA }} communes HORS PACA / Region Sud. </b></p>
                <p style="color:red"><b> Les données d'artificialisation et de logements construits pour ces communes ne sont pas prises en compte.</b></p>
            </div>
        </div>
        <p class="w3-container w3-theme">Pour imprimer ou obtenir un fichier PDF: CTRL-P, Imprimer ou Sauver comme PDF - ne garder que les cinq premieres pages.</p>
        <p class="w3-container"> <b>Avertissement :</b> Les données peuvent être incohérentes car les différentes sources officielles dont elles sont issues ne partent pas des mêmes bases.</p>
    </div>
</div>

<!-- Tabs -->
<div>
<script>
// Tabs
function openTab(evt, cityName) {
  console.log("openTab : "+cityName)
  var i;
  var x = document.getElementsByClassName("city");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  var activebtn = document.getElementsByClassName("databtn");
  for (i = 0; i < x.length; i++) {
    activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}
// Tabs
function openTabOzan(evt, tabName) {
  console.log("openTabOzan : "+tabName)
  var i;
  var x = document.getElementsByClassName("ozan");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  var ozanbtn = document.getElementsByClassName("ozanbtn");
  for (i = 0; i < x.length; i++) {
    ozanbtn[i].className = ozanbtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}
// Tabs
function openFneOzan(evt, tabName) {
  console.log("openFneOzan : "+tabName)
  var i;
  var x = document.getElementsByClassName("fneozan");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  var fneozanbtn = document.getElementsByClassName("fneozanbtn");
  for (i = 0; i < x.length; i++) {
    fneozanbtn[i].className = fneozanbtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}
// Hide / Show
function hideShowPOP_function() {
  var x = document.getElementById("myPOPDIV");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
// Hide / Show
function hideShowLOG_function() {
  var x = document.getElementById("myLOGDIV");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>
<div class="w3-border">
<div class="w3-bar w3-theme">
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Population')">        Population </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Logements')">         Logements </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Constructions')">     Constructions </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Artificialisation')"> Artificialisation </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Projections')">       Projections </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'LoiSRU')">            Loi SRU  </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Cartes')">            Cartes </button>
<!-- Tabs
</div>
<div class="w3-bar w3-theme">
-->
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'MichelZan')">      Objectif Zan ! </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-blue"          onclick="openTab(event,'PlusLoin')">       Pour aller plus loin </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-grey"          onclick="openTab(event,'Calculettes')">    Calculettes </button>
<!--
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'ObjectifZan')">    FedeSCoT Zan </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-pink"          onclick="openTab(event,'Diagnostics')">    Diagnostics </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-flat-wisteria" onclick="openTab(event,'Sources')">        Sources </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-grey"          onclick="openTab(event,'DonneesBrutes')">  Donnees Brutes </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-grey"          onclick="openTab(event,'Debug')">          Debug </button>
<button class="w3-bar-item w3-button databtn w3-padding-16 w3-teal"          onclick="openTab(event,'Graphiques')">     Graphiques </button>
-->
<div class="w3-dropdown-hover w3-mobile">
    <button class="w3-button w3-padding-16 ">Données <i class="fa fa-caret-down"></i></button>
    <div class="w3-dropdown-content w3-bar-block w3-teal">
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Sources')">       Sources</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-flat-wisteria" onclick="openTab(event,'ObjectifZan')">   FedeSCoT Zan</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-flat-wisteria" onclick="openTab(event,'BigTable')">      Table de Calcul</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'DonneesBrutes')"> Données Brutes</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Graphiques')">    Graphiques</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Diagnostics')">   Diagnostics</a>
      <a class="w3-bar-item w3-button databtn w3-mobile w3-teal" onclick="openTab(event,'Debug')">         Debug</a>
    </div>
  </div>
</div>
</div>

<div id="PlusLoin"       class="w3-container city w3-animate-opacity">
    <h2>Pour aller plus Loin ... </h2>

        <p><a class="w3-btn"  target="_blank"
              href="https://www.gadseca.org/nos-dossiers/urbanisation/">
              Le Dossier Urbanisation des Alpes-Maritimes du Gadseca.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="https://mysophiaantipolis.jimdofree.com/2022/02/16/la-fiche-de-nice">
              La fiche d'analyse de Nice.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="https://scotenaction.fedescot.org/visualiser/explorer#layers=41de78c9edca6fa366388e09b171bf7b&tree=false&map=8.72/43.5056/6.8652">
              La carte des SCoTs.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="input/Urbascope.pdf">
              L'Urbascope de FNE Paca.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="input/QuestionnerUnProjetDePLU-SCoT.pdf">
              Questionner un projet de PLU ou de SCoT.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="input/Alpes-Maritimes-NoteExcedentsLogements.pdf">
              Une analyse sur les excédents de logements dans les Alpes-Maritimes.
        </a></p>

        <p><a class="w3-btn"
              href="mailto:gadceca06@gmail.com?subject=A%20propose%20de%20Consommation%20Fonciere">
              Contactez nous par email.
        </a></p>

        <p><a class="w3-btn"
              href="mailto:gadceca06@gmail.com?subject=Atelier%20Sobriete%20Fonciere">
              Participez a un atelier Sobriété Fonciere.
        </a></p>

    <h3>Guides du Ministere de la Transition Ecologique</h3>

        <p><a class="w3-btn"  target="_blank"
              href="input/Guide_Pratique_Artif_complet.pdf">
              Guide : Pour un aménagement et une planification plus sobres.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="input/GuideSF_6_ZCZAE_web.pdf">
              Guide : Restructurer les zones commerciales et les zones d’activités.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="input/GuideSF_17_fiscalite_web.pdf">
              Guide : Mobiliser la fiscalité en faveur de la sobriété foncière.
        </a></p>

        <p><a class="w3-btn"  target="_blank"
              href="input/GuideSF_16_Observatoires_web.pdf">
              Guide : Les observatoires au service de la sobriété foncière.
        </a></p>

</div>

<div id="Diagnostics"       class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="ALL"></diagnostics>
    </div>
</div>

<div id="Graphiques"        class="w3-container city w3-animate-opacity">

    <h2>Graphiques</h2>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Population</h3></div>
        <div id="graphiquesPopulationChartContainer"                  class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Taille des Menages</h3></div>
        <div id="graphiquesTailleMenagesChartContainer"               class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Production et Besoins de Logements</h3></div>
        <div id="graphiquesProductionBesoinsLogementsChartContainer"  class="center" style="width:100%;max-width:700px; max-height:700px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Production et Besoins de Logements 2010-2019</h3></div>
        <div id="graphiquesConstructionsLogementsChartContainer"      class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Répartition des Nouveaux Logements</h3></div>
        <div id="graphiquesRepartitionNouveauxLogementsChartContainer"  class="center" style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Evolution de la Répartition des types de Logements entre 2008 et 2018</h3></div>
        <div id="graphiquesRepartitionTypesLogementsChartContainer"     class="center" style="width:100%;max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Artificialisation des sols entre 2009 et 2020</h3></div>
        <div id="graphiquesArtificialisationChartContainer"      class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>


</div>

<div id="Population"        class="w3-container city w3-animate-opacity">

    <br>
    <div class="w3-dropdown-hover w3-mobile w3-block ">
    <button class="w3-button w3-round-large  w3-block w3-left-align w3-hover-teal"><h2>Population <i class="fa fa-caret-down"></i></h2></button>
    <div class="w3-dropdown-content">
    <br>
    <p>L’évaluation de la population future d’un territoire est fondamentale pour l’élaboration d’un document d’urbanisme.
        Cette évaluation s’appuie normalement d’abord sur le constat des évolutions passées (recensements INSEE à utiliser
        par période quinquennale ex : 2013-2018) puis tient compte des volontés politiques locales à condition
        que le document se donne les moyens correspondants.
    </p>
    <p>Au delà de ce premier indicateur qu’est la population totale, la démographie fournit aussi bien d’autres éléments
        sur le passé, mais aussi sur le futur, car la population ne se renouvelle que lentement : migrations
        résidentielles par exemple, répartition par âge avec ses conséquences sur l’indicateur fondamental qu’est la taille
        moyenne des ménages qui conditionne le besoin en logements, à condition de ne pas prendre en compte la population
        totale, mais seulement celle des ménages (dans la région 97,5 % de la population totale, mais parfois bien moins).
        La population hors ménages est constituée, par exemple, des détenus, des résidents en Ehpad ou des Sans Domicile Fixe.
    </p>
    <p>Au passage, on trouvera ci-dessous des informations sur la population des ménages. Enfin, toute analyse pour
        un territoire ne peut faire l’impasse sur les territoires voisins (cf. « Sélectionner un territoire »).</p>
    </div>
    </div>

    <div v-if="this.data_s != null">
         <p><a class="w3-btn" target="_blank" :href="ds.DOSSIER_INSEE">Dossier Insee Complet {{ nom }}</a></p>
         <div class="w3-container w3-section w3-teal w3-padding-16 w3-round-large">
         <h2>Evolution de la Population</h2></div>
         <p class="w3-tooltip">Population Légale : {{ ds.POP_LEGALE_2019 }} <span class="w3-text w3-tag w3-round-large w3-small w3-teal"><em>POP_LEGALE_2019</em></span></p>

         <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white" >Données INSEE</th>
                <th class="w3-right-align" style="color:white">2008</th>
                <th class="w3-right-align" style="color:white"><i><small>Evolution 08-13</small></i></th>
                <th class="w3-right-align" style="color:white">2013</th>
                <th class="w3-right-align" style="color:white"><i><small>Evolution 13-18</small></i></th>
                <th class="w3-right-align" style="color:white">2018</th>
            </tr>
            <tr>
                <td><b>Population</b></td>
                <td class="w3-right-align"><b>{{ds.P08_POP}}</b></td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_POP-ds.P08_POP)}} ({{f_val(Math.round( ((ds.TXPOP_0813 * 100).toFixed(2)) ) / 100  )}} % / an)</small></i></td>
                <td class="w3-right-align"><b>{{ds.P13_POP}}</b></td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_POP-ds.P13_POP)}} ({{f_val(Math.round( ((ds.TXPOP_1318 * 100).toFixed(2)) ) / 100  )}} % / an)</small></i></td>
                <td class="w3-right-align"><b>{{ds.P18_POP}}</b></td>
            </tr>
            <tr>
                <td>Population Hors Ménages</td>
                <td class="w3-right-align">{{f_percent(ds.C08_HORS_MEN, ds.P08_POP, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.C13_HORS_MEN-ds.C08_HORS_MEN)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.C13_HORS_MEN, ds.P13_POP, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.C18_HORS_MEN-ds.C13_HORS_MEN)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.C18_HORS_MEN, ds.P18_POP, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>Population des Ménages</td>
                <td class="w3-right-align">{{ds.C08_PMEN}}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.C13_PMEN-ds.C08_PMEN)}}</small></i></td>
                <td class="w3-right-align">{{ds.C13_PMEN}}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.C18_PMEN-ds.C13_PMEN)}}</small></i></td>
                <td class="w3-right-align">{{ds.C18_PMEN}}</td>
            </tr>
            <tr>
                <td>Taille des Ménages</td>
                <td class="w3-right-align">{{ds.TM_2008}}</td>
                <td class="w3-right-align"><i><small>{{f_round(ds.TM_2013-ds.TM_2008,3)}} ({{f_val(Math.round( ((ds.TXTM_0813 * 100).toFixed(2)) ) / 100  )}} %/an)</small></i></td>
                <td class="w3-right-align">{{ds.TM_2013}}</td>
                <td class="w3-right-align"><i><small>{{f_round(ds.TM_2018-ds.TM_2013,3)}} ({{f_val(Math.round( ((ds.TXTM_1318 * 100).toFixed(2)) ) / 100  )}} %/an)</small></i></td>
                <td class="w3-right-align">{{ds.TM_2018}}</td>
            </tr>
            <tr>
                <td>Nombre de Ménages</td>
                <td class="w3-right-align">{{ds.C08_MEN}}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.C13_MEN-ds.C08_MEN)}}</small></i></td>
                <td class="w3-right-align">{{ds.C13_MEN}}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.C18_MEN-ds.C13_MEN)}}</small></i></td>
                <td class="w3-right-align">{{ds.C18_MEN}}</td>
            </tr>
            <tr>
                <td><b>Logements</b></td>
                <td class="w3-right-align"><b>{{ds.P08_LOG}}</b></td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_LOG-ds.P08_LOG)}}</small></i></td>
                <td class="w3-right-align"><b>{{ds.P13_LOG}}</b></td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_LOG-ds.P13_LOG)}}</small></i></td>
                <td class="w3-right-align"><b>{{ds.P18_LOG}}</b></td>
            </tr>
            <tr>
                <td>- Résidences Principales</td>
                <td class="w3-right-align">{{f_percent(ds.P08_RP, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_RP-ds.P08_RP)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_RP, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_RP-ds.P13_RP)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_RP, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Résidences Secondaires</td>
                <td class="w3-right-align">{{f_percent(ds.P08_RSECOCC, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_RSECOCC-ds.P08_RSECOCC)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_RSECOCC, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_RSECOCC-ds.P13_RSECOCC)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_RSECOCC, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Logements Vacants</td>
                <td class="w3-right-align">{{f_percent(ds.P08_LOGVAC, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_LOGVAC-ds.P08_LOGVAC)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_LOGVAC, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_LOGVAC-ds.P13_LOGVAC)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_LOGVAC, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td><b>Résidences Principales</b></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td>- Maisons</td>
                <td class="w3-right-align">{{f_percent(ds.P08_MAISON, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_MAISON-ds.P08_MAISON)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_MAISON, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_MAISON-ds.P13_MAISON)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_MAISON, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Appartements</td>
                <td class="w3-right-align">{{f_percent(ds.P08_APPART, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_APPART-ds.P08_APPART)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_APPART, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_APPART-ds.P13_APPART)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_APPART, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Propriétaires</td>
                <td class="w3-right-align">{{f_percent(ds.P08_RP_PROP, ds.P08_RP_PROP + ds.P08_RP_LOC, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_RP_PROP-ds.P08_RP_PROP)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_RP_PROP, ds.P13_RP_PROP + ds.P13_RP_LOC, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_RP_PROP-ds.P13_RP_PROP)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_RP_PROP, ds.P18_RP_PROP + ds.P18_RP_LOC, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Locataires</td>
                <td class="w3-right-align">{{f_percent(ds.P08_RP_LOC, ds.P08_RP_PROP + ds.P08_RP_LOC, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P13_RP_LOC-ds.P08_RP_LOC)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_RP_LOC, ds.P13_RP_PROP + ds.P13_RP_LOC, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_val(ds.P18_RP_LOC-ds.P13_RP_LOC)}}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_RP_LOC, ds.P18_RP_PROP + ds.P18_RP_LOC, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            </tbody>
        </table>
         <br>
    </div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Evolution de la Population</h3></div>
        <div id="populationChartContainer"                  class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Evolution de la Taille des Menages</h3></div>
        <div id="populationTailleMenagesChartContainer"               class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div v-if="this.data_s != null">
         <div class="w3-container w3-section w3-teal w3-padding-16 w3-round-large">
         <h2>Flux annuel de population (Déménagements)</h2></div>
         <p v-if="this.territoire == 'Commune'">    Pour une commune, représente le nombre de déménagements inter-communaux (depuis et vers le département, l'EPCI, ou d'autres départements).</p>
         <p v-if="this.territoire == 'EPCI'">       Pour un EPCI, représente le nombre de déménagements inter-communaux (depuis et vers le département, intra-EPCI, ou d'autres départements).</p>
         <p v-if="this.territoire == 'Departement'">Pour un département, représente le nombre de déménagements inter-communaux dans le département (intra-départemental, inter-EPCI, inter-départemental).</p>
         <br>
         <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données INSEE Moyenne Annuelle 2013-2018</th>
                <th class="w3-center-align" style="color:white">Part de la Population :</th>
                <th class="w3-right-align" style="color:white">Total : </th>
                <th class="w3-right-align" style="color:white">de / vers l'EPCI :</th>
                <th class="w3-right-align" style="color:white">de / vers le Département :</th>
                <th class="w3-right-align" style="color:white">En dehors du Département :</th>
            </tr>
            <tr>
                <td>Population Entrante</td>
                <td class="w3-center-align">{{f_taux(ds.FLUX_1418_ENTRANT_POPULATION*100)}}</td>
                <td class="w3-right-align">+{{f_round(ds.FLUX_1418_ENTRANT / 5)}}</td>
                <td class="w3-right-align">+{{f_round(ds.FLUX_1418_ENTRANT_EPCI / 5)}}</td>
                <td class="w3-right-align">+{{f_round(ds.FLUX_1418_ENTRANT_DPT / 5)}}</td>
                <td class="w3-right-align">+{{f_round((ds.FLUX_1418_ENTRANT_FRANCE + ds.FLUX_1418_ENTRANT_INTERNATIONAL) / 5)}}</td>
            </tr>
            <tr>
                <td>Population Sortante</td>
                <td class="w3-center-align">{{f_taux(-(ds.FLUX_1418_SORTANT_POPULATION*100))}}</td>
                <td class="w3-right-align">-{{f_round(ds.FLUX_1418_SORTANT / 5)}}</td>
                <td class="w3-right-align">-{{f_round(ds.FLUX_1418_SORTANT_EPCI / 5)}}</td>
                <td class="w3-right-align">-{{f_round(ds.FLUX_1418_SORTANT_DPT / 5)}}</td>
                <td class="w3-right-align">-{{f_round(ds.FLUX_1418_SORTANT_FRANCE / 5)}}</td>
            </tr>
            <tr>
                <td>Solde - entrées moins sorties</td>
                <td class="w3-center-align">{{f_taux(ds.FLUX_1418_SOLDE_POPULATION*100)}}</td>
                <td class="w3-right-align">{{f_val(f_round((ds.FLUX_1418_ENTRANT - ds.FLUX_1418_SORTANT) / 5))}}</td>
                <td class="w3-right-align">{{f_val(f_round((ds.FLUX_1418_ENTRANT_EPCI - ds.FLUX_1418_SORTANT_EPCI) / 5))}}</td>
                <td class="w3-right-align">{{f_val(f_round((ds.FLUX_1418_ENTRANT_DPT - ds.FLUX_1418_SORTANT_DPT) / 5))}}</td>
                <td class="w3-right-align">{{f_val(f_round((ds.FLUX_1418_ENTRANT_FRANCE + ds.FLUX_1418_ENTRANT_INTERNATIONAL - ds.FLUX_1418_SORTANT_FRANCE) / 5))}}</td>
            </tr>
            </tbody>
        </table>
         <br>
         <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données INSEE 2018</th>
                <th class="w3-center-align" style="color:white">Part de la Population :</th>
                <th class="w3-right-align" style="color:white">Total : </th>
                <th class="w3-right-align" style="color:white">de / vers l'EPCI :</th>
                <th class="w3-right-align" style="color:white">de / vers le Département :</th>
                <th class="w3-right-align" style="color:white">En dehors du Département :</th>
            </tr>
            <tr>
                <td>Population Entrante</td>
                <td class="w3-center-align">{{f_taux(ds.FLUX_2018_ENTRANT_POPULATION*100)}}</td>
                <td class="w3-right-align">+{{ds.FLUX_2018_ENTRANT}}</td>
                <td class="w3-right-align">+{{ds.FLUX_2018_ENTRANT_DPT}}</td>
                <td class="w3-right-align">+{{ds.FLUX_2018_ENTRANT_EPCI}}</td>
                <td class="w3-right-align">+{{ds.FLUX_2018_ENTRANT_FRANCE + ds.FLUX_2018_ENTRANT_INTERNATIONAL}}</td>
            </tr>
            <tr>
                <td>Population Sortante</td>
                <td class="w3-center-align">{{f_taux(-(ds.FLUX_2018_SORTANT_POPULATION*100))}}</td>
                <td class="w3-right-align">-{{ds.FLUX_2018_SORTANT}}</td>
                <td class="w3-right-align">-{{ds.FLUX_2018_SORTANT_EPCI}}</td>
                <td class="w3-right-align">-{{ds.FLUX_2018_SORTANT_DPT}}</td>
                <td class="w3-right-align">-{{ds.FLUX_2018_SORTANT_FRANCE}}</td>
            </tr>
            <tr>
                <td>Solde Migratoire - entrées moins sorties</td>
                <td class="w3-center-align">{{f_taux(ds.FLUX_2018_SOLDE_POPULATION*100)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT - ds.FLUX_2018_SORTANT)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT_EPCI - ds.FLUX_2018_SORTANT_EPCI)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT_DPT - ds.FLUX_2018_SORTANT_DPT)}}</td>
                <td class="w3-right-align">{{f_val(ds.FLUX_2018_ENTRANT_FRANCE + ds.FLUX_2018_ENTRANT_INTERNATIONAL - ds.FLUX_2018_SORTANT_FRANCE)}}</td>
            </tr>
            </tbody>
        </table>
         <br>
         <p>Le solde migratoire ne comprend pas les personnes qui ont quitté le territoire pour l’étranger (pour info, ce flux particulier représentait durant l’année 2017 de l’ordre de 10 % du total des sortants, avec forcément des disparités selon les territoires).</p>
         <br>
    </div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Evolution des Flux de Population</h3></div>
        <div id="populationFluxChartContainer"               class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div v-if="this.data_s != null">
         <div class="w3-container w3-section w3-teal w3-padding-16 w3-round-large">
         <h2>Déplacements Domicile Travail</h2></div>
         <p v-if="this.territoire == 'Commune'">    Pour une commune, représente le nombre de déplacements inter-communaux (depuis et vers le département, l'EPCI, ou d'autres départements).</p>
         <p v-if="this.territoire == 'EPCI'">       Pour un EPCI, représente le nombre de déplacements inter-communaux (depuis et vers le département, intra EPCI, ou d'autres départements).</p>
         <p v-if="this.territoire == 'Departement'">Pour un département, représente le nombre de déplacements inter-communaux dans le département (intra départemental, inter EPCI, inter départemental).</p>
         <br>
         <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Déplacements Domicile Travail 2018</th>
                <th class="w3-right-align" style="color:white">Total : </th>
                <th class="w3-right-align" style="color:white">de / vers l'EPCI :</th>
                <th class="w3-right-align" style="color:white">de / vers le Département :</th>
                <th class="w3-right-align" style="color:white">En dehors du Département :</th>
            </tr>
            <tr>
                <td>Résidents d’une commune travaillant dans une autre commune :</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_ENTRANT)}}</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_ENTRANT_EPCI)}}</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_ENTRANT_DPT)}}</td>
                <td class="w3-right-align">{{f_round((ds.FLUXPRO_2018_ENTRANT_FRANCE + ds.FLUXPRO_2018_ENTRANT_INTERNATIONAL))}}</td>
            </tr>
            <tr>
                <td>Travailleurs dans la commune résidant hors de cette commune :</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_SORTANT)}}</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_SORTANT_EPCI)}}</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_SORTANT_DPT)}}</td>
                <td class="w3-right-align">{{f_round(ds.FLUXPRO_2018_SORTANT_FRANCE)}}</td>
            </tr>
            <tr>
                <td>Déplacements liés au travail : </td>
                <td class="w3-right-align">{{f_round((ds.FLUXPRO_2018_ENTRANT + ds.FLUXPRO_2018_SORTANT))}}</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{f_round((ds.FLUXPRO_2018_ENTRANT_FRANCE + ds.FLUXPRO_2018_ENTRANT_INTERNATIONAL + ds.FLUXPRO_2018_SORTANT_FRANCE))}}</td>
            </tr>
            </tbody>
        </table>
         <br>
         <p>Part des habitants travaillant hors de leur commune de résidence : {{f_round(ds.FLUXPRO_2018_POPULATION*100)}}%</p>
         <br>
    </div>


    <div v-if="this.data_s != null">
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="POP"></diagnostics>
    </div>
</div>

<div id="Logements"         class="w3-container city w3-animate-opacity">

    <br>
    <button class="w3-button w3-round-large  w3-block w3-left-align w3-hover-teal"onclick="hideShowLOG_function()">
        <h2>Parc de Logements <i class="fa fa-caret-down"></i></h2></button>
    <div id="myLOGDIV"  style="display:none" >
    <br>
    <p>Les principales données disponibles sur le parc de logements proviennent des recensements de l’INSEE
        dont les résultats sont à utiliser par période quinquennale (par ex 2013-2018).
        D’autres données sont également utiles notamment sur les logements sociaux (voir Onglet SRU),
        sur l’artificialisation due à l’habitat (voir Onglet Artificialisation), sur le renouvellement du parc
        (par ex transformation de logements en bureaux ou l’inverse, regroupements de plusieurs logements en un seul, …)
        (voir Onglet Construction).</p>
    <p>Les besoins en résidences principales s’évaluent en tenant principalement compte de la démographie et
        de l’évolution de la taille moyenne des ménages (voir Onglet Population).</p>
    <p>Les besoins totaux en logements doivent aussi tenir compte des évolutions prévues concernant les résidences
        secondaires et la vacance des logements.</p>
    </div>

    <div v-if="this.data_s != null">
         <p><a target="_blank" :href="ds.DOSSIER_INSEE">Dossier Insee Complet {{ nom }}</a></p>
         <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
         <h3>Evolution des types de Logements</h3></div>
         <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données INSEE</th>
                <th class="w3-right-align" style="color:white">2008</th>
                <th class="w3-right-align" style="color:white"></th>
                <th class="w3-right-align" style="color:white">2013</th>
                <th class="w3-right-align" style="color:white"></th>
                <th class="w3-right-align" style="color:white">2018</th>
            </tr>
            <tr>
                <td><b>Logements</b></td>
                <td class="w3-right-align">{{ds.P08_LOG}}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P13_LOG, ds.P08_LOG, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{ds.P13_LOG}}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P18_LOG, ds.P13_LOG, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{ds.P18_LOG}}</td>
            </tr>
            <tr>
                <td>- Résidences Principales</td>
                <td class="w3-right-align">{{f_percent(ds.P08_RP, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P13_RP, ds.P08_RP, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_RP, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P18_RP, ds.P13_RP, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_RP, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Résidences Secondaires</td>
                <td class="w3-right-align">{{f_percent(ds.P08_RSECOCC, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P13_RSECOCC, ds.P08_RSECOCC, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_RSECOCC, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P18_RSECOCC, ds.P13_RSECOCC, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_RSECOCC, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            <tr>
                <td>- Logements Vacants</td>
                <td class="w3-right-align">{{f_percent(ds.P08_LOGVAC, ds.P08_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P13_LOGVAC, ds.P08_LOGVAC, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P13_LOGVAC, ds.P13_LOG, rounding=1, suffix = "%", format = "()") }}</td>
                <td class="w3-right-align"><i><small>{{f_diff(ds.P18_LOGVAC, ds.P13_LOGVAC, format = "+") }}</small></i></td>
                <td class="w3-right-align">{{f_percent(ds.P18_LOGVAC, ds.P18_LOG, rounding=1, suffix = "%", format = "()") }}</td>
            </tr>
            </tbody>
        </table>
         <br>
         <p>Evolution de la vacance entre 2008 et 2018 : {{f_val(f_round(ds.evol_log_vac_0818))}}%</p>
         <p>Evolution du secondaire entre 2008 et 2018 : {{f_val(f_round(ds.evol_res_sec_0818))}}%</p>
    </div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Répartition des Nouveaux Logements</h3></div>
        <div id="logementsRepartitionNouveauxLogementsChartContainer"  class="center" style="width:100%; max-width:600px; max-height:500px;"></div>

    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Evolution de la Répartition des types de Logements entre 2008 et 2018</h3></div>
        <div id="logementsRepartitionTypesLogementsChartContainer"     class="center" style="width:100%;max-width:600px; max-height:500px;"></div>

    <div v-if="this.data_s != null">
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="LOG"></diagnostics>
    </div>

</div>
<div id="Constructions"     class="w3-container city w3-animate-opacity">

    <br>
    <div class="w3-dropdown-hover w3-mobile w3-block ">
    <button class="w3-button w3-round-large  w3-block w3-left-align w3-hover-teal"><h2>Constructions Neuves <i class="fa fa-caret-down"></i></h2></button>
    <div class="w3-dropdown-content">
    <br>
    <p>Le parc de logements d’un territoire évolue essentiellement du fait de la construction neuve.</p>
    <p>Les nombres annuels de logements commencés par territoire sont collectés par le ministère en charge du logement
        et présentés dans la base de données SITADEL2. Cette statistique ne distingue pas la destination de ces
        logements, par exemple entre futures résidences principales ou résidences secondaires.</p>
    <p>Mais le parc peut aussi évoluer par démolition de logements, ou transformation de locaux commerciaux ou de
        bureaux en logement ou l’inverse, par regroupement de logements voisins en un seul et inversement, …
        On parle alors de « renouvellement du parc ». Il n’existe pas d’information directe sur ce renouvellement
        mais on peut en avoir une idée en comparant l’évolution du parc mesurée par les recensements (cf Onglet Parc
        de logements) avec la construction neuve (SITADEL2), toutefois cette comparaison reste assez aléatoire parce
        que les deux sources sont très différentes et ne peut donc donner une bonne indication que sur des territoires
        assez vastes.</p>
    <p>Une autre source indiquant le nombre de logements sociaux construits peut être mobilisée sur les communes
        concernées par la loi SRU (+ de 3500 habitants dans un EPCI de + de 50 000 habitants). </p>
    </div>
    </div>


    <div v-if="this.data_s != null">
         <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
         <h3>Besoins et Production de Logements</h3></div>
         <p>Les données 2013-2018 sont définitives.</p>
         <p>Les données 2020 sont des données estimées à partir de projections des données légales 2019
            et des données Sitadel brutes récentes, qui peuvent être approximatives.</p>
         <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th style="color:white">Données INSEE / Sitadel</th>
                        <th style="color:white" class="w3-right-align">2013</th>
                        <th style="color:white" class="w3-right-align"><small>13-18</small></th>
                        <th style="color:white" class="w3-right-align">2018</th>
                        <th style="color:white" class="w3-right-align"><b><small>13-20</small></b></th>
                        <th style="color:white" class="w3-right-align">2020</th>
                    </tr>
                    <tr>
                        <td><b>Besoins</b> en Logements :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td>- Population des Ménages : </td>
                        <td class="w3-right-align">{{ds.C13_PMEN}}</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{ds.C18_PMEN}}</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{ds.pmen_2020}}</td>
                    </tr>
                    <tr>
                        <td>- Taille des Ménages : </td>
                        <td class="w3-right-align">{{f_round(ds.TM_2013,3)}}</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{f_round(ds.TM_2018,3)}}</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{f_round(ds.TM_2020,3)}}</td>
                    </tr>
                    <tr>
                        <td>- Besoins en Résidences Principales : </td>
                        <td class="w3-right-align">{{ds.C13_MEN}}</td>
                        <td class="w3-right-align"><b>{{f_val(ds.C18_MEN - ds.C13_MEN)}}</b></td>
                        <td class="w3-right-align">{{ds.C18_MEN}}</td>
                        <td class="w3-right-align"><b>{{f_val(ds.men_2020 - ds.C18_MEN)}}</b></td>
                        <td class="w3-right-align">{{ds.men_2020}}</td>
                    </tr>
                    <tr>
                        <td><b>Production</b> en Logements (commencés sur la période) :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"><b>{{ds.PROD_LOG_1318}}</b></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"><b>{{ds.PROD_LOG_1320}}</b></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> - Logements Sociaux Construits (Taux) :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{ds.PROD_LLS_1318}}</td>
                        <td class="w3-right-align">({{ Math.round( ((ds.TX_PROD_LLS_1318 * 10000).toFixed(4)) ) / 100  }}%)</td>
                        <td class="w3-right-align">{{ds.PROD_LLS_1320}}</td>
                        <td class="w3-right-align">({{ Math.round( ((ds.TX_PROD_LLS_1320 * 10000).toFixed(4)) ) / 100  }}%)</td>
                    </tr>
                    <tr>
                        <td><b>Excédents</b> de Logements Commencés par rapport aux besoins pour le logement des habitants :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"><b><i>{{ds.EXCES_BESOINS_1318}}</i></b></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"><b><i>{{ds.EXCES_BESOINS_1320}}</i></b></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> -&gt; Nouvelles Résidences Secondaires :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{ds.NOUV_RESSEC_1318}}</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> -&gt; Nouvelles Résidences Vacantes :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{ds.NOUV_LOGVAC_1318}}</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td><b>Renouvellement </b> du Parc de Logements :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"><b><i>{{ds.log_1318 - ds.PROD_LOG_1318}}</i></b></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> -> Evolution du parc 2013-2018 :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{f_round(ds.log_1318,0)}} log.</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> -&gt; Nombre de logements commencés 2012-2017 :</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{ds.PROD_LOG_1318}} log.</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    <tr>
                        <td> -&gt; Renouvellement annuel du parc : </td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align">{{f_round((ds.log_1318 -ds.PROD_LOG_1318)/5,0)}} log.</td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                        <td class="w3-right-align"></td>
                    </tr>
                    </tbody>
                </table>
         <br>
    </div>
    <!--
    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Besoins et Production de Logements</h3></div>
        <div id="constructionsProductionBesoinsLogementsChartContainer"  class="center" style="width:100%;max-width:700px; max-height:700px;"></div>
   -->
    <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Besoins et Constructions de Logements 2010-2019</h3></div>
        <div id="constructionsConstructionsLogementsChartContainer"      class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

    <div v-if="this.data_s != null">
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="PROD"></diagnostics>
    </div>

</div>
<div id="Artificialisation" class="w3-container city w3-animate-opacity">

    <h2>Artificialisation</h2>

    <p>L'artificialisation étant une préoccupation récente, les données qui y sont relatives sont dérivées de sources
        approximatives et peu précises. Elles donnent néanmoins une indication des tendances en cours.</p>

    <p>Le taux d'artificialisation pour l'ensemble de PACA sur le total des 5 dernières années (2015 à 2020) est
        de 0,23% de la surface totale de la région, un peu plus faible que sur les 5 années précédentes 0,25 %.
        Soit 0,5% en 10 ans. </p>

    <div v-if="this.data_s != null">
        <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Artificialisation des sols sur bases fiscales en 10 ans (2009-2020)</h3></div>
        <p>Artificialisation : <a target="_blank" :href="ds.URL_SOURCE_ARTIFICIALISATION"> Dossier Cerema </a></p>
        <p> Parmi les sources disponibles, les données issues des fichiers fiscaux traitées par le CEREMA offrent
            l'avantage d'être annuelles et disponibles pour tout le territoire de manière comparable même si elles
            ne sont pas très précises. Elles comptabilisent les parcelles cadastrales nouvellement artificialisées
            en distinguant notamment celles destinées à l'habitat et aux activités économiques, mais pas précisément
            les surfaces artificialisées comme pourra le faire la future base de données cartographiques Occupation
            du sol à grande échelle (OCS GE) actuellement en chantier. Et promise pour 2024.</p>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données Cerema</th>
                <th style="color:white"class="w3-right-align">2009 - 2020</th>
            </tr>
            <tr>
                <td>Surface du Territoire :</td>
                <td class="w3-right-align">{{ Math.round( ((ds.SURFACE_COMMUNE / 100 ).toFixed(2)) ) / 100  }} ha</td>
            </tr>
            <tr>
                <td>Artificialisation en 10 ans :</td>
                <td class="w3-right-align">{{ Math.round( ((ds.ART_TOTAL / 100).toFixed(2)) ) / 100  }} ha</td>
            </tr>
            <tr>
                <td>- Artificialisation à destination de l'habitat : </td>
                <td class="w3-right-align">{{ Math.round( ((ds.ART_HABITAT / 100 ).toFixed(2)) ) / 100  }} ha</td>
            </tr>
            <tr>
                <td>- Artificialisation à destination de l'activité économique : </td>
                <td class="w3-right-align">{{ Math.round( ((ds.ART_ACTIVITE / 100 ).toFixed(2)) ) / 100  }} ha</td>
            </tr>
            <tr>
                <td>- Autres artificialisation : </td>
                <td class="w3-right-align">{{ Math.round( (((ds.ART_MIXTE + ds.ART_INCONNUE) / 100 ).toFixed(2)) ) / 100  }} ha</td>
            </tr>
            <tr>
                <td>Supplément d'artificialisation en % en 10 ans :</td>
                <td class="w3-right-align">{{ Math.round( ((ds.ART_POURCENT * 100).toFixed(2)) ) / 100  }}%</td>
            </tr>
            </tbody>
        </table>
        <br>
    </div>

    <div id="artificialisationArtificialisationChartContainer"      class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>
    <br>

    <div v-if="this.data_s != null">
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Artificialisation</th>
                <th style="color:white"class="w3-right-align">2013 - 2018</th>
            </tr>
            <tr>
                <td>Artificialisation à destination de l'habitat :</td>
                <td class="w3-right-align">{{ ds.ART_ART13HAB18  }} ha</td>
            </tr>
            <tr>
                <td>Nouveaux logements (Résidences principales, secondaires et vacantes) :</td>
                <div v-if="ds.ART_LOG1318 > 0">
                <td class="w3-right-align">{{ ds.ART_LOG1318 }}</td>
                </div>
            </tr>
            <tr>
                <td>- Nouveaux logements par hectare artificialisé :</td>
                <div v-if="ds.ART_LOG_HECT > 0">
                <td class="w3-right-align">{{ ds.ART_LOG_HECT }} log/ha</td>
                </div>
            </tr>
            <tr>
                <td>M2 artificialisés par résidence principale supplémentaire :</td>
                <div v-if="ds.ART_HECT_RP > 0">
                <td class="w3-right-align">{{ ds.ART_HECT_RP }} m2</td>
                </div>
            </tr>
            <tr>
                <td>M2 artificialisés par habitant supplémentaire :</td>
                <td class="w3-right-align">{{ ds.ART_HECT_HAB  }} m2</td>
            </tr>
            </tbody>
        </table>
        <br>

        <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Artificialisation sur base des Permis de Construire (2013-2022)</h3></div>
        <p>Artificialisation : <a target="_blank" :href="ds.URL_SOURCE_SITADEL"> Dossier Sitadel </a></p>
        <p> Une autre source est celle issue des données des permis de construire, collectées dans la base Sitadel.
             Comme celle du CEREMA, elles sont annuelles mais ne sont pas très précises. Elles comptabilisent les
             parcelles cadastrales nouvellement baties à destination de l'habitat, mais pas précisément les surfaces artificialisées.</p>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données Sitadel</th>
                <th style="color:white" class="w3-right-align">2013 - 2022</th>
            </tr>
            <tr>
                <td>Surface du Territoire :</td>
                <td class="w3-right-align">{{ Math.round( ((ds.SURFACE_COMMUNE / 100 ).toFixed(2)) ) / 100  }} ha</td>
            </tr>
            <tr>
                <td>Nombre de logements nouveaux :</td>
                <td class="w3-right-align">{{ ds.NB_LGT_NOUVEAU  }} </td>
            </tr>
            <tr>
                <td>Nombre de logements en renouvellement :</td>
                <td class="w3-right-align">{{ ds.NB_LGT_RENOUVELLEMENT  }} </td>
            </tr>
            <tr>
                <td>Superficie totale des terrains dédiés aux nouveaux logements (y compris extensions) :</td>
                <td class="w3-right-align">{{ f_round(ds.SITADEL_LOGEMENTS_SUPERFICIE_TERRAIN_NOUVEAU / 10000,2)  }} ha</td>
            </tr>
            <tr>
                <td>Superficie des terrains pour des logements en renouvellement (y compris extensions):</td>
                <td class="w3-right-align">{{ f_round(ds.SITADEL_LOGEMENTS_SUPERFICIE_TERRAIN_RENOUVEAU / 10000,2)  }} ha</td>
            </tr>
            <tr>
                <td>Logements par hectares :</td>
                <td class="w3-right-align">{{ f_round(ds.NB_LGT_NOUVEAU / (ds.SITADEL_LOGEMENTS_SUPERFICIE_TERRAIN / 10000),1)  }} log / ha</td>
            </tr>
            <tr>
                <td>Superficie des terrains vierges autorisés pour de nouveaux logements :</td>
                <td class="w3-right-align">{{ f_round(ds.CONSO_LOG_SUPERFICIE / 10000,2)  }} ha</td>
            </tr>
            <tr>
                <td>Taux de réalisation des autorisations sur terrains vierges :</td>
                <td class="w3-right-align">{{ f_taux(ds.CONSO_LOG_TAUX_REA)  }} ha</td>
            </tr>
            <tr>
                <td>Superficie des terrains dédiés aux nouvelles activités (y compris extensions) :</td>
                <td class="w3-right-align">{{ f_round(ds.SITADEL_LOCAUX_SUPERFICIE_TERRAIN_NOUVEAU / 10000,2)  }} ha</td>
            </tr>
            <tr>
                <td>Superficie des terrains pour des activités en renouvellement (y compris extensions) :</td>
                <td class="w3-right-align">{{ f_round(ds.SITADEL_LOCAUX_SUPERFICIE_TERRAIN_RENOUVEAU / 10000,2)  }} ha</td>
            </tr>
            <tr>
                <td>Superficie des terrains vierges autorisés pour de nouvelles activités :</td>
                <td class="w3-right-align">{{ f_round(ds.CONSO_LOC_SUPERFICIE_TOT / 10000,2)  }} ha</td>
            </tr>
            </tbody>
        </table>
        <br>
    </div>

    <div id="artificialisationAutorisationsConsoChartContainer"      class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>
    <br>

    <div v-if="this.data_s != null">
        <div v-if="ds.SCOT_2030_OBJ != -1">
        <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Objectifs SCoT Ouest Alpes-Maritimes</h3></div>
        <p>SCoT Ouest : <a target="_blank" href="https://cloud.paysdegrasse.fr/index.php/s/4jrNnfwokzSTo6a"> Document D'Objectifs </a></p>
        <p> Le SCoT Ouest Alpes-Maritimes s'est donné comme objectif de limiter son artificialisation par commune.</p>
        <p> Cette table est issue des données des permis de construire autorisés depuis la mise en place du SCoT, le 20 Mai 2021.</p>
        <p> C'est la surface des parcelles sujettes a PC qui est prise en compte. Ne sont pas comptés :
            les PC avant l’approbation du SCoT, les Déclarations Préalables, les PC annulés, les PC avec surface existante ou démolition
	        les PC avec indication d'extension ou de surélévation, les PC sur logements existant, les PC pour les locaux commerciaux ou industriels,
            les PC dont la superficie des parcelles n'est pas renseignée</p>
        <p> C'est donc la surface totale des parcelles sur lesquelles il n'y avait rien auparavant qui sont comptabilisées :
            ce n'est pas l'emprise au sol imperméabilisée ou minéralisée, mais l’artificialisation correspondant à la définition
            d’artificialisation du décret n° 2022-763 du 29 avril 2022, qui comprend les surfaces espaces verts comme les jardins.</p>
        <p> Le SCoT se veut ne comptabiliser que les parcelles de plus de 2500 m2 dans le budget disponible.
            Mais comme la plupart des parcelles sont de moins de 2500 m2, qui constituent la majorité de la consommation,
            les petites surfaces consommées sont aussi indiquées dans la table ci-dessous.</p>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données Sitadel</th>
                <th style="color:white" class="w3-right-align">Depuis le 20 Mai 2021</th>
            </tr>
            <tr>
                <td>Dernière autorisation prise en compte :</td>
                <td class="w3-right-align">{{ ds.SCOT_LAST_DATE }} </td>
            </tr>
            <tr>
                <td>Nombre de Permis Autorisés :</td>
                <td class="w3-right-align">{{ f_round(ds.SCOT_OUEST_LOG_COUNT,0) }} </td>
            </tr>
            <tr>
                <td>Nombre de logements nouveaux :</td>
                <td class="w3-right-align">{{ f_round(ds.SCOT_OUEST_LOG_LOGEMENTS,0)  }} </td>
            </tr>
            <tr>
                <td>Nombre de logements sociaux :</td>
                <td class="w3-right-align">{{ f_percent(ds.SCOT_OUEST_LOG_LOG_SOCIAUX , ds.SCOT_OUEST_LOG_LOGEMENTS, rounding=0, suffix = "%", format = "()" )  }} </td>
            </tr>
            <tr>
                <td>Consommation en parcelles vierges autorisées (toutes superficies) :</td>
                <td class="w3-right-align">{{ f_round(ds.SCOT_OUEST_LOG_SUPERFICIE / 10000,2)  }} ha  </td>
            </tr>
            <tr>
                <td><b>Objectif de consommation jusqu'en 2030 (parcelles > 2500 m2) :</b></td>
                <td class="w3-right-align"><b>{{ f_round(ds.SCOT_2030 / 10000,2)  }} ha  </b></td>
            </tr>
            <tr>
                <td>- Consommation dans le budget de l'objectif (parcelles > 2500 m2) :</td>
                <td class="w3-right-align">{{ f_percent(f_round(ds.SCOT_OUEST_LOG_SUPERFICIE_2500 / 10000,2) , ds.SCOT_2030 / 10000, rounding=0, suffix = "%", format = "()")  }}  ha </td>
            </tr>
            <tr>
                <td>- Budget foncier résiduel jusqu'en 2030 (parcelles > 2500 m2) :</td>
                <td class="w3-right-align">{{ f_round((ds.SCOT_2030 - ds.SCOT_OUEST_LOG_SUPERFICIE_2500) / 10000,2)  }} ha  </td>
            </tr>
            <tr>
                <td>- Consommation hors budget (parcelles < 2500 m2) :</td>
                <td class="w3-right-align">{{ f_percent(f_round(ds.SCOT_OUEST_LOG_SUPERFICIE_SMALL / 10000,2), ds.SCOT_OUEST_LOG_SUPERFICIE_ALL / 10000, rounding=0, suffix = "%", format = "()") }} ha </td>
            </tr>
            <tr>
                <td>- Part des petites parcelles (parcelles < 2500 m2) :</td>
                <td class="w3-right-align">{{ f_taux(ds.SCOT_OUEST_LOG_COUNT_PART*100, rounding=0, suffix = "%", format = "") }}  </td>
            </tr>
            <tr>
                <td><b>Budget foncier 2030-2040  (parcelles > 2500 m2) :</b></td>
                <td class="w3-right-align"><b>{{ f_round(ds.SCOT_2040 / 10000,2)  }} ha  </b></td>
            </tr>
            </tbody>
        </table>
        </div>

        <br>
        <div id="artificialisationSCoTOuest"      class="center"  style="width:100%; max-width:600px; max-height:500px;"></div>

        <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="ART"></diagnostics>
    </div>



</div>
<div id="LoiSRU"            class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Loi SRU</h2>
        <p>Logements Sociaux : <a target="_blank" :href="ds.URL_SOURCE_SRU"> Dossier Dreal </a></p>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tr class="w3-teal">
                <th style="color:white">Données SRU</th>
                <th style="color:white" class="w3-right-align">2017</th>
                <th style="color:white" class="w3-right-align">2020</th>
                <th style="color:white" class="w3-right-align">Evolution</th>
            </tr>
            <tr>
                <td>Residences Principales</td>
                <td class="w3-right-align">{{ds.SRU_RP_2017}}</td>
                <td class="w3-right-align">{{ds.SRU_RP_2020}}</td>
                <td class="w3-right-align">{{ds.SRU_RP_2020 - ds.SRU_RP_2017}}</td>
            </tr>
            <tr>
                <td>Logements Sociaux :</td>
                <td class="w3-right-align">{{ds.SRU_LLS_2017}}</td>
                <td class="w3-right-align">{{ds.SRU_LLS_2020}}</td>
                <td class="w3-right-align">{{ds.SRU_LLS_2020 - ds.SRU_LLS_2017}}</td>
            </tr>
            <tr>
                <td>Taux Logements Sociaux :</td>
                <td class="w3-right-align">{{ Math.round( ((ds.SRU_TX_LLS_2017 * 10000).toFixed(4)) ) / 100  }}%</td>
                <td class="w3-right-align">{{ Math.round( ((ds.SRU_TX_LLS_2020                       * 10000).toFixed(4)) ) / 100  }}%</td>
                <td class="w3-right-align">{{ Math.round( (((ds.SRU_TX_LLS_2020 - ds.SRU_TX_LLS_2017)* 10000).toFixed(4)) ) / 100  }}%</td>
            </tr>
            <tr>
                <td>Carence :</td>
                <td class="w3-right-align">{{ds.SRU_CARENCE_2017}}</td>
                <td class="w3-right-align">{{ds.SRU_CARENCE_2020}}</td>
                <td class="w3-right-align">{{ds.SRU_CARENCE_2020 - ds.SRU_CARENCE_2017}}</td>
            </tr>
            <tr>
                <td>Objectifs Trienaux :</td>
                <td class="w3-right-align">{{ds.SRU_OBJ_2017_2019}}</td>
                <td class="w3-right-align">{{ds.SRU_OBJ_2020_2022}}</td>
                <td class="w3-right-align">{{ds.SRU_OBJ_2020_2022 - ds.SRU_OBJ_2017_2019}}</td>
            </tr>
        </table>
        <br>
        <div> <h2>Logements Sociaux Construits / En Construction : </h2>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tr class="w3-teal">
                <th style="color:white">Données Sitadel</th>
                <th style="color:white" class="w3-right-align">Logements</th>
            </tr>
            <tr>
                <td>Logements sociaux realisés en 2013-2016</td>
                <td class="w3-right-align">{{ds.NB_LGT_PRET_LOC_SOCIAL_1316}}</td>
            </tr>
            <tr>
                <td>Logements sociaux commencés en 2017-2021</td>
                <td class="w3-right-align">{{ds.NB_LGT_PRET_LOC_SOCIAL_1721}}</td>
            </tr>
            <tr>
                <td><b>Total 2013-2021</b></td>
                <td class="w3-right-align"><b>{{ds.NB_LGT_PRET_LOC_SOCIAL_1321}}</b></td>
            </tr>
        </table>
        </div>
        <br>
        <div><h2>Carte Geoportail Logement Social</h2>
             <p>Sur <a target="_blank" :href="ds.URL_CARTE_LOGEMENT_SOCIAL"> Geoportail Logement Social </a></p>
             <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_LOGEMENT_SOCIAL"></iframe>-->
        </div>
        <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="SRU"></diagnostics>
    </div>
</div>
<div id="Projections"       class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Projections</h2>
        <p>Projections 2050 : <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS">Dossier Insee </a></p>
        <p>Projections Paca : <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS_PACA">Dossier Omphale </a></p>
        <p>Les projections d'évolution de la population sont issues de l'INSEE, et de son étude Omphale. Le scenario central est retenu ci-dessous. Les taux d'évolution appliqués au territoire sont les projections du niveau départemental.</p>
        <p>Les besoins en logement sont liés strictement à l'évolution de la population, et au désserrement des ménages, en supposant une stabilisation de la taille des ménages à terme.</p>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th style="color:white">Données INSEE</th>
                <th style="color:white" class="w3-right-align">2020</th>
                <th style="color:white" class="w3-right-align">2030</th>
                <th style="color:white" class="w3-right-align">2040</th>
            </tr>
            <tr>
                <td><b>Population :</b></td>
                <td class="w3-right-align">{{ds.POP_2020}}</td>
                <td class="w3-right-align">{{ds.POP_2030}}</td>
                <td class="w3-right-align">{{ds.POP_2040}}</td>
            </tr>
            <tr>
                <td>- Evolution en 10 ans :</td>
                <td class="w3-right-align"> -</td>
                <td class="w3-right-align">{{f_val(ds.POP_2030 - ds.POP_2020)}}</td>
                <td class="w3-right-align">{{f_val(ds.POP_2040 - ds.POP_2030)}}</td>
            </tr>
            <tr>
                <td>- Evolution en % / an :</td>
                <td class="w3-right-align">-</td>
                <td class="w3-right-align">{{f_val(ds.TX_POP_2030, format = "+", suffix = "%")}}</td>
                <td class="w3-right-align">{{f_val(ds.TX_POP_3040, format = "+", suffix = "%")}}</td>
            </tr>
            <tr>
                <td><b>Taille des Ménages :</b></td>
                <td class="w3-right-align">{{ds.TM_2020}}</td>
                <td class="w3-right-align">{{ds.TM_2030}}</td>
                <td class="w3-right-align">{{ds.TM_2040}}</td>
            </tr>
            <tr>
                <td>- Evolution en % / an  :</td>
                <td class="w3-right-align">-</td>
                <td class="w3-right-align">{{f_val(f_round(ds.TXTM_1318 / 2,3), format = "+", suffix = "%")}}</td>
                <td class="w3-right-align">{{f_val(f_round(ds.TXTM_1318 / 3,3), format = "+", suffix = "%")}}</td>
            </tr>
            <tr>
                <td><b>Besoins en logements pour la population :</b></td>
                <td class="w3-right-align">{{ds.LOG_2020}}</td>
                <td class="w3-right-align">{{ds.LOG_2030}}</td>
                <td class="w3-right-align">{{ds.LOG_2040}}</td>
            </tr>
            <tr>
                <td>- Besoins en logements nouveaux sur 10 ans :</td>
                <td class="w3-right-align"> -</td>
                <td class="w3-right-align">{{f_val(ds.LOG_2030 - ds.LOG_2020)}}</td>
                <td class="w3-right-align">{{f_val(ds.LOG_2040 - ds.LOG_2030)}}</td>
            </tr>
            <tr>
                <td>- Besoins en logements par an :</td>
                <td class="w3-right-align"> -</td>
                <td class="w3-right-align">{{f_val(f_round((ds.LOG_2030 - ds.LOG_2020)/10))}} </td>
                <td class="w3-right-align">{{f_val(f_round((ds.LOG_2040 - ds.LOG_2030)/10))}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <diagnostics :diags=this.data_s.Diagnostics type="ALL" categorie="PROJ"></diagnostics>
    </div>
</div>
<div id="Cartes"            class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Cartes</h2>
        <div>
            <h3>Carte Geoportail Parcelles</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE"> Geoportail Parcelles </a></p>
            <iframe height="500" width="900" class="framegeop" :src="ds.URL_CARTE"></iframe>
            <br>
            <h3>Carte Geoportail Logement Social</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_LOGEMENT_SOCIAL">Geoportail Logement Social </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_LOGEMENT_SOCIAL"></iframe>-->
            <br>
            <h3>Carte Geoportail Administrative</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_ADMINISTRATIVE">Geoportail Administrative </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_ADMINISTRATIVE"></iframe> -->
            <br>
            <h3>Carte Geoportail Urbanisme</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_URBANISME">Geoportail Urbanisme </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_URBANISME"></iframe>-->
            <br>
            <h3>Carte Sitadel Koumoul</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_SITADEL"> Koumoul </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_SITADEL"></iframe>-->
            <br>
            <h3>Carte Sitadel Vigibati</h3>
            <p>Sur <a target="_blank" :href="ds.URL_CARTE_VIGIBATI">Vigibati </a></p>
            <!-- <iframe height="500" width="900" class="framegeop" v-bind:src="ds.URL_CARTE_VIGIBATI"></iframe> -->
        </div>
    </div>
</div>
<div id="Sources"           class="w3-container city w3-animate-opacity">
    <h2>Sources</h2>
    <div v-if="this.data_s != null">
            <div>
                <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
                <h3>Sources de Données </h3></div>
                <p>Les sources des donnees INSEE, Sitadel, Dreal pour {{nom}} : </p>
                <ul class="w3-ul w3-card-4">
                    <li><a class="w3-btn" target="_blank" :href="ds.DOSSIER_INSEE">Dossier Complet Insee : {{ nom }}</a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_SOURCE_ARTIFICIALISATION"> Artificialisation : Dossier Cerema </a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_SOURCE_SRU"> Logements Sociaux : Dossier Dreal </a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_SOURCE_SITADEL"> Logements Construits : Dossier Sitadel </a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_SOURCE_COMMUNES"> Données Communes : Dossier Insee </a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_SOURCE_PROJECTIONS"> Projections 2050 : Dossier Insee </a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_SOURCE_PROJECTIONS_PACA">Projections Paca : Dossier Omphale </a></li>
                </ul>
            </div>
            <br>
            <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
            <h3>Autres Sites </h3></div>
                <p>Autres sources, pour des données complementaires : </p>
                <ul class="w3-ul w3-card-4">
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_VILLE_DATA">Données sur Toutes les Villes de France : Ville Data - {{ nom }}</a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_LINTERNAUTE">L'Encyclopédie des villes de France : L'internaute </a></li>
                    <li><a class="w3-btn" target="_blank" :href="ds.URL_GOOGLE">Google Search </a></li>
                </ul>
            </div>
    </div>
<div id="DonneesBrutes"     class="w3-container city w3-animate-opacity">
    <div v-if="data_s != null">
        <h2>Données Brutes</h2>
        <p><a class="w3-btn"  target="_blank" :href="ds.DOSSIER_INSEE">Dossier Insee Complet {{ nom }} : </a></p>
        <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Metadonnées consolidées et valeurs pour {{ nom }}</h3></div>
        <br>
        <div class="w3-cell-row">
            <div class="w3-container w3-cell w3-mobile w3-center">
                <p><a class="btn w3-btn fa fa-download" :href="ds.DOWNLOAD_CSV"> Download CSV</a></p>
            </div>
            <div class="w3-container w3-cell w3-mobile w3-center">
                <p><a class="btn w3-btn fa fa-download" :href="ds.DOWNLOAD_XLSX"> Download XLSX</a></p>
            </div>
            <div class="w3-container w3-cell w3-mobile w3-center">
                <p><a class="btn w3-btn fa fa-download" :href="ds.DOWNLOAD_JSON"> Download JSON</a></p>
            </div>
        </div>
        <br>
        <table class="w3-table-all w3-hoverable w3-card-4" style="width: 100%;">
            <tbody>
            <tr class="w3-teal" style="color:white">
                <th                        style="width: 10%; color:white">Cle de Donnee</th>
                <th class="w3-right-align" style="width: 20%; color:white">Semantique</th>
                <th class="w3-left-align"  style="width: 70%; color:white">Valeur</th>
            </tr>
            <tr  v-for="(item, key) in this.data" :key="key" >
                <td class="w3-tooltip" >{{ key }}
                    <span class="w3-text w3-tag w3-round-large w3-small w3-teal"><em>{{ item.source }} </em></span></td>
                <td class="w3-right-align">{{ item.meta }}</td>
                <td class="w3-left-align w3-tooltip" style="white-space: nowrap; text-overflow: ellipsis; overflow: hidden; max-width: 1px;">
                    {{ item.total }}
                    <span class="w3-text w3-tag w3-round-large w3-small w3-teal"><em>{{ item.expr }} [ {{ item.mode }} ] </em></span></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div id="Debug"             class="w3-container city w3-animate-opacity">
    <div v-if="this.data_s != null">
        <h2>Debug</h2>
        <br>
        <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Diagnostics</h3></div>
        <div v-for='diag in this.data_s.Diagnostics' >
            <ul class="w3-ul w3-card-4">
                <li><h3 style="color:teal;">{{diag.key}}</h3></li>
                <li> Categorie : {{diag.categorie}}</li>
                <li> Description : {{diag.description}}</li>
                <li> Type : {{diag.type}}</li>
                <li> Test : {{diag.test}}</li>
                <li> Valeur : {{diag.value}}</li>
                <li> Message   : {{diag.message}}</li>
                <li> Message Si Faux : {{diag.messageSiFaux}}</li>
                <li> Message Si Vrai : {{diag.messageSiVrai}}</li>
            </ul>
            <div v-if="diag.type == 'NOTE' && diag.message != ''" >
                 <div v-if='diag.value == true' class="w3-panel w3-pale-yellow w3-topbar w3-rightbar w3-border-yellow w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
                 <div v-else class="w3-panel w3-pale-yellow w3-bottombar w3-leftbar w3-border-yellow w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
            </div>
            <div v-if="diag.type == 'BLUE' && diag.message != ''" >
                 <div v-if='diag.value == true' class="w3-panel w3-pale-blue w3-topbar w3-rightbar w3-border-blue w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
                 <div v-else class="w3-panel w3-pale-blue w3-bottombar w3-leftbar w3-border-blue w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
            </div>
            <div v-if="diag.type == 'ORANGE' && diag.message != ''" >
                 <div v-if='diag.value == true' class="w3-panel w3-sand w3-topbar w3-rightbar w3-border-orange w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
                 <div v-else class="w3-panel w3-sand w3-bottombar w3-leftbar w3-border-orange w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
            </div>
            <div v-if="diag.type == 'DIAG' && diag.message != ''" >
                 <div v-if='diag.value == true' class="w3-panel w3-pale-green w3-leftbar w3-border-green w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
                 <div v-else class="w3-panel w3-pale-red w3-bottombar w3-border-red w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                 </div>
            </div>
            <div v-if="diag.type == 'TEST' && diag.message != ''">
                <div v-if='diag.value == true' class="w3-panel w3-pale-blue w3-leftbar w3-border-blue w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                </div>
                <div v-else class="w3-panel w3-pale-blue w3-bottombar w3-border-blue w3-border">
                                <br>
                                <p>{{diag.description}}</p>
                                <p>{{diag.message}}</p>
                </div>
            </div>
        </div>
        <br>
        <div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
        <h3>Données</h3></div>
        <div v-for="(item, key) in this.data" :key="key" >
                <ul class="w3-ul w3-card-4">
                    <li><h3 style="color:teal">{{ key }}</h3></li>
                    <li> Semantique : {{ item.meta   }}</li>
                    <li> Expr :       {{ item.expr   }}</li>
                    <li> Type :       {{ item.type   }}</li>
                    <li> Mode :       {{ item.mode   }}</li>
                    <li> Source :     {{ item.source }}</li>
                    <li> Valeur :     {{ item.total  }}</li>
                </ul>
                <br>
        </div>
    </div>
</div>
<div id="Calculettes"       class="w3-container city w3-animate-opacity">
        <h2>Calculettes</h2>
        <div class="w3-container">

            <div v-if="this.data_s != null">
                <p>Population 2013-2018 : {{ f_val(ds.P18_POP - ds.P13_POP) }} habitants ({{f_val(ds.TXPOP_1318)}} %/an). 2019 : {{ds.POP_LEGALE_2019}} habitants </p>
            </div>
            <div class="w3-container w3-cell">
                <calculette-evol ref="CalculetteEvolPopulation"
                                 titre="Population - Evolution selon le taux : "
                                 valeur="Population"
                                 rounding="0"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0" >
                </calculette-evol>
            </div>
            <div class="w3-container w3-cell">
                <calculette-taux ref="CalculetteTauxPopulation"
                                 titre="Population - Taux selon l'évolution : "
                                 valeur="Population"
                                 rounding="3"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0">
                </calculette-taux>
            </div>
        </div>
        <br>
            <div v-if="this.data_s != null">
                <p>Taille des Ménages 2013-2018: {{ ds.TM_2013 }} -> {{ ds.TM_2018 }} personnes / ménage ({{f_val(ds.TXTM_1318)}} %/an)</p>
            </div>
        <div class="w3-container">
            <div class="w3-container w3-cell">
                <calculette-evol ref="CalculetteEvolTailleMenages"
                                 titre="Taille des Ménages - Evolution selon le taux : "
                                 valeur="Taille des Ménages"
                                 rounding="3"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0">
                </calculette-evol>
            </div>
            <div class="w3-container w3-cell">
                <calculette-taux ref="CalculetteTauxTailleMenages"
                                 titre="Taille des Ménages - Taux selon l'évolution : "
                                 valeur="Taille des Ménages"
                                 rounding="3"
                                 val_depart="0"
                                 annee_depart="2020"
                                 val_arrivee="0"
                                 annee_arrivee="2030"
                                 taux_de_croissance="0">
                </calculette-taux>
            </div>
        </div>
    <br>
</div>
<div id="BigTable"          class="w3-container city w3-animate-opacity">
     <h2>Table de Calcul - Version Beta</h2>
     <div class="w3-container">
        <table-stat ref="TableStat"> </table-stat>
     </div>
</div>
<div id="ObjectifZan"       class="w3-container city w3-animate-opacity">
     <h2>Fédération des SCoT - Objectif Zero Artificialisation Nette.</h2>
     <div class="w3-container">
        <table-ozan ref="ObjectifZan"> </table-ozan>
     </div>
</div>
<div id="MichelZan"         class="w3-container city w3-animate-opacity">
     <h2>France Nature Environnement - Objectif Zero Artificialisation Nette.</h2>
     <div class="w3-container">
        <michel-ozan ref="MichelZan"> </michel-ozan>
     </div>
</div>

</div>

<!-- Footer -->
<br>
<footer class="w3-container w3-theme-dark w3-padding-16">

<!-- Contact & Counters -->
<div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Sobriété Foncière 2022</h3>
        <p><a class="w3-btn"
              href="https://www.gadseca.org/" target="_blank">
              Powered by Gadesca</a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Contact / Information</h3>
        <p><a class="w3-btn"
              href="mailto:gadceca06@gmail.com?subject=A%20propose%20de%20Consommation%20Fonciere">
              Contactez nous par email.
        </a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Pour en savoir plus</h3>
        <p><a class="w3-btn"
              href="README.dillinger.html">
              Lisez-moi.
        </a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Open Source</h3>
        <p><a class="w3-btn"
              href="https://github.com/bheuse/ConsommationFonciere">
              Projet Github.
        </a></p>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <h3>Mentions Légales</h3>
                    <button class="w3-btn"
                            onclick="document.getElementById('id04').style.display='block'"
                            style="font-weight: 900;">Mentions Légales.
                    </button>
    </div>
</div>
<div>
    <div class="w3-container w3-cell w3-mobile">
        <br>Visiteurs
             <div id="sfcdw41gx8hc14zxkkbm3eu7u38cu64puqy"></div>
             <script type="text/javascript" src="https://counter7.stat.ovh/private/counter.js?c=dw41gx8hc14zxkkbm3eu7u38cu64puqy&down=async" async>
             </script>
    </div>
    <div class="w3-container w3-cell w3-mobile">
        <br>Visites
            <div id="sfcyl7udu4q68pa87lccp7rqg97jnl49634"></div>
            <script type="text/javascript" src="https://counter7.stat.ovh/private/counter.js?c=yl7udu4q68pa87lccp7rqg97jnl49634&down=async" async>
            </script>
    </div>
</div>

<!-- Sources -->
<div class="w3-container w3-theme-dark w3-padding-16">
     <h2>Sources de Données : </h2>
     <div v-if="data_s != null">
        <div class="w3-container w3-cell w3-mobile">
             <p>Statistiques INSEE:<br>    <a target="_blank" :href="ds.URL_STATISTIQUES_INSEE">Dossiers Insee</a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Artificialisation :<br>    <a target="_blank" :href="ds.URL_SOURCE_ARTIFICIALISATION"> Dossier Cerema </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Logements Sociaux :<br>   <a target="_blank" :href="ds.URL_SOURCE_SRU"> Dossier Dreal </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Logements Construits :<br> <a target="_blank" :href="ds.URL_SOURCE_SITADEL"> Dossier Sitadel </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Données Communes :<br>     <a target="_blank" :href="ds.URL_SOURCE_COMMUNES"> Dossier Insee </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Projections 2050 :<br>     <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS"> Dossier Insee </a></p>
        </div>
        <div class="w3-container w3-cell w3-mobile">
             <p>Projections Paca :<br>     <a target="_blank" :href="ds.URL_SOURCE_PROJECTIONS_PACA"> Dossier Omphale </a></p>
        </div>
    </div>
</div>

<!-- Tracker
<div  v-if="this.data_s != null">
        <div class="w3-container w3-theme-dark w3-mobile w3-center ">
        <iframe frameBorder="0" height="190" width="700" :src="ds.GOOGLE_TRACKER"></iframe>
        </div>
</div>
-->

<!-- Rapport Complet(was in Tracker) -->
<div class="w3-teal w3-center">
    <h2 class="w3-teal w3-center">Sobriété Foncière - Un site du Gadseca</h2>
    <img class="w3-center w3-image"
          src="input/Gadseca_50Ans.jpg"
          alt="Gadseca Logo"
          style="display: block; margin-left: auto; margin-right: auto; width: 600px; height: auto;">
</div>


</footer>

</div> <!-- App -->

<!--
########################
     Ozan Template
########################
-->

<script type="text/x-template" id="ozan-template">

<div class="w3-container">

<div v-if="this.dataset != null">
<div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
<h3> {{titre}}</h3></div>
<h4> Les Formules de la Fédération des SCoT et de l'Union Nationale des Aménageurs avec les données les plus récentes, et pertinentes au territoire.</h4>
<p>  La Fédération Nationale des SCoT regroupe les structures porteuses de Shémas de Coherence Territoriale</p>
<p>  L'Union Nationale des Aménageurs est l'organisation des professionnels privés qui accompagnent les aménageurs dans leurs territoires.</p>
<div>
<div class="w3-border">
<div class="w3-bar w3-theme w3-right">
<button class="w3-bar-item w3-button ozanbtn w3-padding-16"                     onclick="openTabOzan(event,'Insee')">         Insee </button>
<button class="w3-bar-item w3-button ozanbtn w3-padding-16 w3-2021-french-blue" onclick="openTabOzan(event,'Territoire')">    Votre territoire</button>
<button class="w3-bar-item w3-button ozanbtn w3-padding-16 w3-flat-wisteria"    onclick="openTabOzan(event,'Coteacote')">     Côte à Côte</button>
</div>
</div>

<div id="Insee"  class="w3-container ozan w3-animate-opacity">
        <h2>Insee</h2>
            <br>
            <div class="w3-panel w3-hoverable w3-card-4 w3-teal">
            <h2>Estimations basées sur les chiffres de l'Insee :</h2>
            </div>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="43" class="w3-left-align  w3-teal">Période d'étude :</th>
                <th class="w3-right-align w3-teal">2018</th>
                <th class="w3-right-align w3-teal">2030</th>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td height="43"> Population</td>
                <td class="w3-right-align">{{this.ds.oz_population_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_variation}}</td>
            </tr>
            <tr>
                <td height="43"> Nombre de personnes par ménage</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_variation}}</td>
            </tr>
            <tr>
                <td height="43">Demande potentielle liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td height="43"><i>- à la croissance démographique</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td height="43"><i>- au desserrement des ménages</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td height="43">Parc de logements vacants</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td height="43">Parc de résidences secondaires</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td height="43">Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-teal">
            <br>
            <p>Demande potentielle à l'horizon 2030 : {{ this.ds.oz_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :    {{ this.ds.oz_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.scen_taux_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange1" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_taux_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange2" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

        <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>

        <br>
        <img src="input/Densite.png" alt="Examples de Densite" >
        <br>
        <br>
        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation Fonciere</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>

        <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-orange">
                        <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                        <th class="w3-right-align ">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Déficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th class="w3-right-align w3-teal">Objectif atteint sur 10 ans !</th>
                        <th class="w3-right-align w3-teal">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>

        <div class="w3-panel w3-card-4 w3-teal" style="text-align:justify">
            <br>
            <p>Hectares consommés ces 10 dernieres années : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares ZAN disponibles les 10 prochaines années : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements construits en Renouvellement : {{ this.ds.oz_logement_en_renouvellement }}</p>
            <p>Logements construits en Extension : {{ this.ds.oz_logement_en_extension }}</p>
            <p>Hectares nécessaires en Extension : {{ this.ds.oz_ha_consommes_en_extension }}</p>
            <p>Différence par rapport aux objectifs ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }}</p>
            <br>
        </div>

</div>
<div id="Territoire"  class="w3-container ozan w3-animate-opacity">
        <h2>Votre Territoire</h2>
            <br>
            <div class="w3-panel w3-hoverable w3-card-4 w3-2021-french-blue">
            <h2>Saisir les besoins en logements sur votre territoire :</h2>
            </div>
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-2021-french-blue">
                <th class="w3-left-align w3-2021-french-blue">Période d'étude :</th>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_arrivee"></td>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td>Population</td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_depart"></td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_population_variation}}</td>
            </tr>
            <tr>
                <td height="43"> Nombre de personnes par ménage</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_arrivee"></td>
                <td class="w3-right-align"> {{this.ds.oz_scen_tm_variation}}</td>
            </tr>
            <tr>
                <td>Demande potentielle liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td><i>- à la croissance démographique</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td><i>- au desserrement des ménages</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td>Parc de logements vacants</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td>Parc de résidences secondaires</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td>Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_desaffectations"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-2021-french-blue">
            <br>
            <p>Demande potentielle à l'horizon {{this.ds.oz_scen_an_arrivee}} : {{ this.ds.oz_scen_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_scen_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer ">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.oz_scen_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange3" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer ">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.oz_scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange4" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

        <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>

        <br>
        <p align-text="left" ><b>A titre d'exemple : </b></p>
        <img src="input/Densite_3.jpg" alt="Examples de Densite"  >
        <br>
        <br>

        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation Fonciere</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_scen_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>

        <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-orange">
                        <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                        <th class="w3-right-align ">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Déficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th class="w3-right-align w3-2021-french-blue">Objectif atteint sur 10 ans !</th>
                        <th class="w3-right-align w3-2021-french-blue">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>

        <div class="w3-panel w3-card-4 w3-2021-french-blue" style="text-align:justify">
            <br>
            <p>Hectares consommés ces 10 dernieres années : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares ZAN disponibles les 10 prochaines années : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements construits en Renouvellement : {{ this.ds.oz_scen_logement_en_renouvellement }}</p>
            <p>Logements construits en Extension : {{ this.ds.oz_scen_logement_en_extension }}</p>
            <p>Hectares nécessaires en Extension : {{ this.ds.oz_scen_ha_consommes_en_extension }}</p>
            <p>Différence par rapport aux objectifs ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares</p>
            <br>
        </div>
</div>
<div id="Coteacote"  class="w3-container ozan w3-animate-opacity">
        <h2>Côte à Côte</h2>
        <div class="columns">
        <div class="column">
                <br>
                <div class="w3-panel w3-hoverable w3-card-4 w3-teal">
                <h2>Estimations basées sur les chiffres de l'Insee :</h2>
                </div>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="43" class="w3-left-align  w3-teal">Période d'étude :</th>
                <th class="w3-right-align w3-teal">2018</th>
                <th class="w3-right-align w3-teal">2030</th>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td height="43">Population</td>
                <td class="w3-right-align">{{this.ds.oz_population_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_population_variation}}</td>
            </tr>
            <tr>
                <td height="43">Personnes par ménage</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_tm_variation}}</td>
            </tr>
            <tr>
                <td height="43">Demande liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td height="43"><i>- à la démographique</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td height="43"><i>- au desserrement</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td height="43">Logements vacants</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td height="43">Résidences secondaires</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2018}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_2030}}</td>
                <td class="w3-right-align">{{this.ds.oz_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td height="43">Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-teal">
            <br>
            <p>Demande potentielle à l'horizon 2030 : {{ this.ds.oz_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.scen_taux_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange5" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_taux_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange6" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

            <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport à l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>

        <br>
        <img src="input/Densite.png" alt="Examples de Densite" >
        <br>
        <br>
        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>


        <div v-if="this.ds.oz_ha_manquant_pour_logements > 0" >
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-orange">
                        <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                        <th class="w3-right-align ">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-red w3-hover-shadow w3-center">
                <br>
                <h1>Objectif non atteint sur 10 ans.</h1>
                <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                <h2>Densifiez ou Renouvellez plus !</h2>
                <br>
            </div>
        </div>
        <div v-else class="w3-center">
              <table class="w3-table-all w3-hoverable w3-card-4">
                    <tbody>
                    <tr class="w3-teal">
                        <th class="w3-right-align w3-teal">Objectif atteint sur 10 ans !</th>
                        <th class="w3-right-align w3-teal">Ha en 2030</th>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_ha_zan_2030*10)/10}}</td>
                    </tr>
                    <tr>
                        <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                        <td class="w3-right-align" >{{Math.round(this.ds.oz_ha_consommes_en_extension*10)/10}}</td>
                    </tr>
                    </tbody>
                </table>
            <br>
            <div class="w3-green w3-hover-shadow w3-center">
                <br>
                <h1>Objectif atteint sur 10 ans !</h1>
                <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                <h2>Territoire Vertueux !</h2>
                <br>
            </div>
        </div>


        <div class="w3-panel w3-card-4 w3-teal" style="text-align:justify">
            <br>
            <p>Hectares consommés ces 10 dernieres années : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares disponibles les 10 prochaines années : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements construits en Renouvellement : {{ this.ds.oz_logement_en_renouvellement }}</p>
            <p>Logements construits en Extension : {{ this.ds.oz_logement_en_extension }}</p>
            <p>Hectares nécessaires en Extension : {{ this.ds.oz_ha_consommes_en_extension }}</p>
            <p>Différence par rapport aux besoins : {{ Math.round(this.ds.oz_ha_manquant_pour_logements*10)/10 }}</p>
            <br>
        </div>

      </div>
        <div class="column">
                <br>
                <div class="w3-panel w3-hoverable w3-card-4 w3-2021-french-blue">
                <h2>Saisir les besoins en logements sur votre territoire :</h2>
                </div>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-2021-french-blue">
                <th class="w3-left-align w3-2021-french-blue">Période d'étude :</th>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_an_arrivee"></td>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td>Population</td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_depart"></td>
                <td class="w3-right-align"> <input  type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_pop_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_population_variation}}</td>
            </tr>
            <tr>
                <td>Personnes par ménage</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999" step="0.01" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.oz_scen_tm_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_tm_variation}}</td>
            </tr>
            <tr>
                <td>Demande liée : </td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            <tr>
                <td><i>- à la démographie</i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_croissance_demo}}</td>
            </tr>
            <tr>
                <td><i>- au desserrement </i></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_dde_diminution_tm}}</td>
            </tr>
            <tr>
                <td>Logements vacants</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_vac_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_vac_variation}}</td>
            </tr>
            <tr>
                <td>Résidences secondaires</td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_depart"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_sec_arrivee"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_parc_res_sec_variation}}</td>
            </tr>
            <tr>
                <td>Désaffectations</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"> <input type="number" min="0" max="99999999" style="text-align: right;" v-on:blur="recalc"  v-model.number="this.ds.oz_scen_desaffectations"></td>
                <td class="w3-right-align">{{this.ds.oz_scen_desaffectations}}</td>
            </tr>
            </tbody>
        </table>
        <br>
        <div class="w3-panel w3-card-4 w3-2021-french-blue">
            <br>
            <p>Demande potentielle à l'horizon {{this.ds.oz_scen_an_arrivee}} : {{ this.ds.oz_scen_demande_potentielle }}</p>
            <h2>Votre besoin annuel en logements :     {{ this.ds.oz_scen_demande_annuelle_de_logements }}</h2>
            <br>
        </div>

        <div class="slidecontainer ">
          <h1>Objectif de renouvellement urbain</h1>
          <p>Taux en pourcentage : {{this.ds.oz_scen_renouvellement}} %</p>
          <input type="range" min="0" max="100"  class="slider" id="myRange7" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_renouvellement">
          <p>Reconversion de friches, dents creuses, transformation de l'existant, sur-élévation...</p>
        </div>
        <div class="slidecontainer ">
          <h1>Densité réalisable en extension</h1>
          <p>Logements par hectare :  {{this.ds.oz_scen_log_ha}} </p>
          <input type="range" min="1" max="100"  class="slider" id="myRange8" v-on:blur="recalc" v-on:change="recalc" v-model.value="this.ds.oz_scen_log_ha">
          <p>Sélectionnez le niveau de densité représentatif de votre territoire</p>
        </div>

            <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport à l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>
        <br>


        <p  ><b>A titre d'exemple : </b></p>
        <img src="input/Densite_3.jpg" alt="Examples de Densite"  >
        <br>
        <br>

        <div class="columns">
             <div class="column">
                    <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-grey">Consommation</th>
                            <th class="w3-right-align w3-grey">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align">2009-2018 :</td>
                            <td class="w3-right-align">{{Math.round(this.ds.oz_ha_consommes_ha_zan_historique*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align">Moyenne Annuelle :</td>
                            <td class="w3-right-align">{{ Math.round(this.ds.oz_ha_consommes_ha_zan_historique)/10 }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            <div class="column">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-teal">Objectif ZAN</th>
                            <th class="w3-right-align w3-teal">Hectares</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >2020-2030 :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">Moyenne Annuelle :</td>
                            <td class="w3-right-align" style="text-shadow:1px 1px 0 #444">{{ Math.round(this.ds.oz_scen_ha_consommes_ha_zan_par_an*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>


            <div v-if="this.ds.oz_scen_ha_manquant_pour_logements > 0" >
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-orange">
                            <th class="w3-right-align ">Objectif non atteint sur 10 ans</th>
                            <th class="w3-right-align ">Ha en 2030</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
                <br>
                <div class="w3-red w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif non atteint sur 10 ans.</h1>
                    <h3>Deficit pour les logements par rapport a l'Objectif ZAN : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h3>
                    <h2>Densifiez ou Renouvellez plus !</h2>
                    <br>
                </div>
            </div>
            <div v-else class="w3-center">
                  <table class="w3-table-all w3-hoverable w3-card-4">
                        <tbody>
                        <tr class="w3-teal">
                            <th class="w3-right-align w3-2021-french-blue">Objectif atteint sur 10 ans !</th>
                            <th class="w3-right-align w3-2021-french-blue">Ha en 2030</th>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN disponible :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_ha_zan_2030*10)/10}}</td>
                        </tr>
                        <tr>
                            <td class="w3-right-align" >Enveloppe ZAN utilisée :</td>
                            <td class="w3-right-align" >{{Math.round(this.ds.oz_scen_ha_consommes_en_extension*10)/10}}</td>
                        </tr>
                        </tbody>
                    </table>
                <br>
                <div class="w3-green w3-hover-shadow w3-center">
                    <br>
                    <h1>Objectif atteint sur 10 ans !</h1>
                    <h2>Gain sur l'Objectif ZAN : {{ Math.round(-this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares.</h2>
                    <h2>Territoire Vertueux !</h2>
                    <br>
                </div>
            </div>

        <div class="w3-panel w3-card-4 w3-2021-french-blue" style="text-align:justify">
            <br>
            <p>Hectares consommés ces 10 dernieres années : {{ this.ds.oz_ha_consommes_ha_zan_historique }}</p>
            <p>Hectares disponibles les 10 prochaines années : {{ this.ds.oz_ha_consommes_ha_zan_2030 }}</p>
            <p>Logements construits en Renouvellement : {{ this.ds.oz_scen_logement_en_renouvellement }}</p>
            <p>Logements construits en Extension : {{ this.ds.oz_scen_logement_en_extension }}</p>
            <p>Hectares nécessaires en Extension : {{ this.ds.oz_scen_ha_consommes_en_extension }}</p>
            <p>Différence par rapport aux besoins : {{ Math.round(this.ds.oz_scen_ha_manquant_pour_logements*10)/10 }} hectares</p>
            <br>
        </div>


         </div>
      </div>
</div>

</div>

</div>


</div>

</script>

<!--
########################
     Michel Template
########################
-->

<script type="text/x-template" id="michel-template">

<div v-if="this.dataset != null">
<div class="w3-container w3-section w3-teal w3-padding-8 w3-round-large">
<h3 v-if="titre"> {{titre}}</h3></div>
<h4> Méthode proposée par France Nature Environnement.</h4>
<p>  France Nature Environnement est une fédération nationale d'associations de protection de l'environnement.</p>
<p>  Le Gadseca est un groupement départemental d'associations de protection de l'environnement dans les Alpes-Maritimes.</p>
</div>
<div class="w3-border">
<div class="w3-bar w3-theme w3-right">
<button class="w3-bar-item w3-button fneozanbtn w3-padding-16"                     onclick="openFneOzan(event,'FneInsee')">         Insee </button>
<button class="w3-bar-item w3-button fneozanbtn w3-padding-16 w3-2021-french-blue" onclick="openFneOzan(event,'FneTerritoire')">    Votre Scenario</button>
<button class="w3-bar-item w3-button fneozanbtn w3-padding-16 w3-flat-wisteria"    onclick="openFneOzan(event,'FneCoteacote')">     Côte à Côte</button>
</div>
</div>

<div id="FneInsee"  class="w3-container fneozan w3-animate-opacity">
    <h2>Insee</h2>
    <div v-if="this.dataset != null">
        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="50" class="w3-left-align  w3-teal">Etapes</th>
                <th height="50" class="w3-right-align  w3-teal">Taux</th>
                <th height="50" class="w3-right-align  w3-teal">{{this.ds.michel_an_donnee}}</th>
                <th class="w3-right-align w3-teal">{{this.ds.michel_an_depart}}</th>
                <th class="w3-right-align w3-teal">{{this.ds.michel_an_arrivee}}</th>
                <th class="w3-right-align w3-grey">Variation</th>
            </tr>
            <tr>
                <td height="50" >0 - Dates</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.michel_an_donnee}}</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2000" max="2050" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_an_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="2050" max="2050" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_an_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_duree}}</td>
            </tr>
            <tr>
                <td height="50" >1 - Population</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="-10" max="10" step="0.001"  style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_taux"></td>
                <td class="w3-right-align">{{this.ds.P18_POP}}</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_depart"></td>
                <td class="w3-right-align">{{this.ds.michel_pop_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_arrivee - this.ds.michel_pop_depart}}</td>
            </tr>
            <tr>
                <td height="50" >2.0 - Besoins en Logements</td>
            </tr>
            <tr>
                <td height="50" >2.1 - Population hors Ménages</td>
                <td class="w3-right-align">{{((this.ds.C18_HORS_MEN/this.ds.P18_POP)*100).toFixed(1)}}%</td>
                <td class="w3-right-align">{{this.ds.C18_HORS_MEN}}</td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_pop_hm_depart/this.ds.michel_pop_depart)*100).toFixed(1)}}% - <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_hm_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_pop_hm_arrivee/this.ds.michel_pop_arrivee)*100).toFixed(1)}}% - <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_pop_hm_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_pop_hm_delta}}</td>
            </tr>
            <tr>
                <td height="50" >2.2 - Population des Ménages</td>
                <td class="w3-right-align">{{this.ds.michel_pop_taux}}</td>
                <td class="w3-right-align">{{this.ds.C18_MEN}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_men_depart}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_men_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_pop_men_delta}}</td>
            </tr>
            <tr>
                <td height="50" >2.3 - Taille des Ménages</td>
                <td class="w3-right-align">{{this.ds.michel_tm_tendance_5_ans}}</td>
                <td class="w3-right-align">{{this.ds.TM_2018}}</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="1" max="5" step="0.001" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_tm_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="1" max="5" step="0.001" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_tm_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_tm_delta}}</td>
            </tr>
            <tr>
                <td height="50" >2.4 - Résidences Principales</td>
                <td class="w3-right-align">{{this.ds.michel_tx_rp_an_donnee *100}}%</td>
                <td class="w3-right-align">{{this.ds.C18_MEN}}</td>
                <td class="w3-right-align">{{((this.ds.michel_rp_depart/this.ds.michel_log_depart)*100).toFixed(1)}}% - {{this.ds.michel_rp_depart}}</td>
                <td class="w3-right-align">{{((this.ds.michel_rp_arrivee/this.ds.michel_log_arrivee)*100).toFixed(1)}}% - {{this.ds.michel_rp_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_rp_delta}}</td>
            </tr>
            <tr>
                <td height="50" >3 - Residences Secondaires</td>
                <td class="w3-right-align">{{this.ds.michel_tx_rs_an_donnee *100}}%</td>
                <td class="w3-right-align">{{this.ds.P18_RSECOCC}}</td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rs_depart/this.ds.michel_log_depart)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rs_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rs_arrivee/this.ds.michel_log_arrivee)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rs_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_rs_delta}}</td>
            </tr>
            <tr>
                <td height="50" >4 - Residences Vacantes</td>
                <td class="w3-right-align">{{this.ds.michel_tx_rv_an_donnee *100}}% </td>
                <td class="w3-right-align">{{this.ds.P18_LOGVAC}}</td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rv_depart/this.ds.michel_log_depart)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rv_depart"></td>
                <td class="w3-right-align w3-2021-french-blue"> {{((this.ds.michel_rv_arrivee/this.ds.michel_log_arrivee)*100).toFixed(1)}}% <input  type="number" min="0" max="9999999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_rv_arrivee"></td>
                <td class="w3-right-align">{{this.ds.michel_rv_delta}}</td>
            </tr>
            <tr>
                <td height="50" >4.1- Parc Total de Logements</td>
                <td class="w3-right-align">100.0%</td>
                <td class="w3-right-align">{{this.ds.log_2018}}</td>
                <td class="w3-right-align">{{this.ds.michel_log_depart}}</td>
                <td class="w3-right-align">{{this.ds.michel_log_arrivee}}</td>
                <td class="w3-right-align">{{this.ds.michel_log_delta}}</td>
            </tr>
            <tr>
                <th height="50" >4.2- Besoins en Logements</th>
                <td class="w3-right-align"></td>
                <th class="w3-right-align">{{this.ds.michel_log_delta}}</th>
                <th class="w3-left-align">Logements</th>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            </tbody>
        </table>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr>
                <th class="w3-teal" height="50" >Renouvellement du Parc</th>
                <th class="w3-right-align w3-teal"></th>
                <th class="w3-right-align w3-teal"></th>
                <th class="w3-right-align w3-teal"></th>
                <th class="w3-right-align w3-teal">Evolution du Parc</th>
                <th class="w3-right-align w3-teal">Construits </th>
                <th class="w3-right-align w3-teal">Renouvellement</th>
            </tr>
            <tr>
                <td height="50" >5.0 - Renouvellement du Parc (sur 2013-2018)</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">Evolution {{this.ds.michel_evolution_parc_5_ans}}</td>
                <td class="w3-right-align">Construits {{this.ds.michel_construits_5_ans}}</td>
                <td class="w3-right-align">{{this.ds.michel_renouvellement_5_ans}}</td>
            </tr>
            <tr>
                <td height="50" >5.1 - Renouvellement annuel futur ({{this.ds.michel_an_depart}} - {{this.ds.michel_an_arrivee}}) :</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align w3-2021-french-blue"> (en %) <input  type="number" min="0" max="099" step="0.001" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_renouvellement_taux"></td>
                <td class="w3-right-align">En nombre (par an) : </td>
                <td class="w3-right-align">{{this.ds.michel_renouvellement_nombre_an}}</td>
            </tr>
            <tr>
                <td height="50" >5.2 - Renouvellement a terme</td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align">{{this.ds.michel_renouvellement_arrivee}}</td>
            </tr>
            <tr>
                <th height="50" >5.3 - Besoin en logements sur foncier vierge:</th>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <th class="w3-right-align">{{this.ds.michel_besoin_logements_sur_foncier_vierge}}</th>
                <th class="w3-left-align">Logements</th>
                <td class="w3-right-align"></td>
            </tr>
            </tbody>
        </table>

        <table class="w3-table-all w3-hoverable w3-card-4">
            <tbody>
            <tr class="w3-teal">
                <th height="50" class="w3-left-align  w3-teal">Zonage</th>
                <th class="w3-right-align w3-teal">Zone 1</th>
                <th class="w3-right-align w3-teal">Zone 2</th>
                <th class="w3-right-align w3-teal">Zone 3</th>
                <th class="w3-right-align w3-teal">Zone 4</th>
                <th class="w3-right-align w3-teal">Zone 5</th>
                <th class="w3-right-align w3-teal">Zone 6</th>
                <th class="w3-right-align w3-teal">Total</th>
            </tr>
            <tr>
                <td height="50" >6a - Répartition des logts au depart (en % - pour information)</td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N1"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N2"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N3"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N4"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N5"></td>
                <td class="w3-right-align w3-2021-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6a_repartition_log_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_6a_repartition_log_Total}}</td>
            </tr>
            <tr>
                <td height="50" >6b - Répartition des nouveaux logts  (en %)</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_6b_repartition_nouv_log_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_6b_repartition_nouv_log_Total}}</td>
            </tr>
            <tr>
                <td height="50" >6c - Répartition des besoins en logts (en nombre)</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_6c_repartition_besoins_log_Total}}</td>
            </tr>
            <tr>
                <td height="50" >7a - Possibilité de Densification (logts en nombre) </td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_7a_densification_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_7a_densification_Total}}</td>
            </tr>
            <tr>
                <td height="50" >7b - Constructions en Extension (en nombre)</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_7b_extension_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8a - Densite Nette en Log/Ha</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="999" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8a_densite_nette_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_8a_densite_nette_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8b - Surface Nette en Extension (Ha)</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_8b_surface_nette_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8c - Rajout Equipements (en %)</td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N1"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N2"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N3"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N4"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N5"></td>
                <td class="w3-right-align w3-2021-french-blue"> <input  type="number" min="0" max="099" style="text-align: right;" v-on:blur="recalc" v-on:change="recalc" v-model.number="this.ds.michel_8c_surface_equipements_N6"></td>
                <td class="w3-right-align">{{this.ds.michel_8c_surface_equipements_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8c - Rajout Equipements en surface (Ha)</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_8c2_surface_equipements_Total}}</td>
            </tr>
            <tr>
                <td height="50" >8d - Hectares nécessaires (Ha)</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N1}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N2}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N3}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N4}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N5}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_N6}}</td>
                <td class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_Total}}</td>
            </tr>
            <tr>
                <th height="50" >8e - Foncier nécessaire (Ha)</th>
                <th class="w3-right-align">{{this.ds.michel_8d_hectares_necessaires_Total}}</th>
                <th class="w3-left-align">Hectares</th>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
                <td class="w3-right-align"></td>
            </tr>
            </tbody>
        </table>

        <div class="w3-panel w3-card-4 w3-teal w3-center">
            <br>
            <h1>{{ this.ds.michel_8e_message_sobriete }}</h1>
            <br>
            <h2>Votre niveau de sobriété fonciere    :  {{ this.ds.michel_8d_niveau_sobriete }}%</h2>
            <br>
            <p>Consommation Fonciere passée en 10 ans : {{ this.ds.michel_8a_consomation_cerema_10_ans }} ha</p>
            <p>Consommation Fonciere passée annuelle :  {{ this.ds.michel_8b_consomation_cerema_annuelle }} ha</p>
            <p>Consommation Fonciere future annuelle :  {{ this.ds.michel_8c_consomation_prevue_annuelle }} ha</p>
            <br>
        </div>
    </div>
</div>
<div id="FneTerritoire"  class="w3-container fneozan w3-animate-opacity">
    <h2>Votre Scenario</h2>
    <p> Pas disponible.</p>
</div>
<div id="FneCoteacote"  class="w3-container fneozan w3-animate-opacity">
    <h2>Côte à Côte</h2>
    <p> Pas disponible.</p>
</div>
</script>

<!--
########################
     Java Script Logic
########################
-->

<script  src="ConsommationFonciereV3.js?v=1"></script>

</body>
</html>